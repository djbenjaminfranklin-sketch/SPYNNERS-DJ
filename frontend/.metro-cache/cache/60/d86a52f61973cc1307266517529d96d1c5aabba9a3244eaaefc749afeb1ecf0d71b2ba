{"dependencies":[{"name":"@babel/runtime/helpers/asyncToGenerator","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"YisBBiy2Xm9DEVdFebZ2nbgAHBo=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  exports.createFunctionsModule = createFunctionsModule;\n  var _babelRuntimeHelpersAsyncToGenerator = require(_dependencyMap[0], \"@babel/runtime/helpers/asyncToGenerator\");\n  var _asyncToGenerator = _interopDefault(_babelRuntimeHelpersAsyncToGenerator);\n  /**\n   * Creates the functions module for the Base44 SDK.\n   *\n   * @param axios - Axios instance\n   * @param appId - Application ID\n   * @returns Functions module with methods to invoke custom backend functions\n   * @internal\n   */\n  function createFunctionsModule(axios, appId) {\n    return {\n      // Invoke a custom backend function by name\n      invoke(functionName, data) {\n        return (0, _asyncToGenerator.default)(function* () {\n          // Validate input\n          if (typeof data === \"string\") {\n            throw new Error(`Function ${functionName} must receive an object with named parameters, received: ${data}`);\n          }\n          var formData;\n          var contentType;\n          // Handle file uploads with FormData\n          if (data instanceof FormData || data && Object.values(data).some(value => value instanceof File)) {\n            formData = new FormData();\n            Object.keys(data).forEach(key => {\n              if (data[key] instanceof File) {\n                formData.append(key, data[key], data[key].name);\n              } else if (typeof data[key] === \"object\" && data[key] !== null) {\n                formData.append(key, JSON.stringify(data[key]));\n              } else {\n                formData.append(key, data[key]);\n              }\n            });\n            contentType = \"multipart/form-data\";\n          } else {\n            formData = data;\n            contentType = \"application/json\";\n          }\n          return axios.post(`/apps/${appId}/functions/${functionName}`, formData || data, {\n            headers: {\n              \"Content-Type\": contentType\n            }\n          });\n        })();\n      }\n    };\n  }\n});","lineCount":60,"map":[[12,2,9,0,"exports"],[12,9,9,0],[12,10,9,0,"createFunctionsModule"],[12,31,9,0],[12,34,9,0,"createFunctionsModule"],[12,55,9,0],[13,2,43,1],[13,6,43,1,"_babelRuntimeHelpersAsyncToGenerator"],[13,42,43,1],[13,45,43,1,"require"],[13,52,43,1],[13,53,43,1,"_dependencyMap"],[13,67,43,1],[14,2,43,1],[14,6,43,1,"_asyncToGenerator"],[14,23,43,1],[14,26,43,1,"_interopDefault"],[14,41,43,1],[14,42,43,1,"_babelRuntimeHelpersAsyncToGenerator"],[14,78,43,1],[15,2,1,0],[16,0,2,0],[17,0,3,0],[18,0,4,0],[19,0,5,0],[20,0,6,0],[21,0,7,0],[22,0,8,0],[23,2,9,7],[23,11,9,16,"createFunctionsModule"],[23,32,9,37,"createFunctionsModule"],[23,33,9,38,"axios"],[23,38,9,43],[23,40,9,45,"appId"],[23,45,9,50],[23,47,9,52],[24,4,10,4],[24,11,10,11],[25,6,11,8],[26,6,12,14,"invoke"],[26,12,12,20,"invoke"],[26,13,12,21,"functionName"],[26,25,12,33],[26,27,12,35,"data"],[26,31,12,39],[26,33,12,41],[27,8,12,41],[27,19,12,41,"_asyncToGenerator"],[27,36,12,41],[27,37,12,41,"default"],[27,44,12,41],[28,10,13,12],[29,10,14,12],[29,14,14,16],[29,21,14,23,"data"],[29,25,14,27],[29,30,14,32],[29,38,14,40],[29,40,14,42],[30,12,15,16],[30,18,15,22],[30,22,15,26,"Error"],[30,27,15,31],[30,28,15,32],[30,40,15,44,"functionName"],[30,52,15,56],[30,112,15,116,"data"],[30,116,15,120],[30,118,15,122],[30,119,15,123],[31,10,16,12],[32,10,17,12],[32,14,17,16,"formData"],[32,22,17,24],[33,10,18,12],[33,14,18,16,"contentType"],[33,25,18,27],[34,10,19,12],[35,10,20,12],[35,14,20,16,"data"],[35,18,20,20],[35,30,20,32,"FormData"],[35,38,20,40],[35,42,21,17,"data"],[35,46,21,21],[35,50,21,25,"Object"],[35,56,21,31],[35,57,21,32,"values"],[35,63,21,38],[35,64,21,39,"data"],[35,68,21,43],[35,69,21,44],[35,70,21,45,"some"],[35,74,21,49],[35,75,21,51,"value"],[35,80,21,56],[35,84,21,61,"value"],[35,89,21,66],[35,101,21,78,"File"],[35,105,21,82],[35,106,21,84],[35,108,21,86],[36,12,22,16,"formData"],[36,20,22,24],[36,23,22,27],[36,27,22,31,"FormData"],[36,35,22,39],[36,36,22,40],[36,37,22,41],[37,12,23,16,"Object"],[37,18,23,22],[37,19,23,23,"keys"],[37,23,23,27],[37,24,23,28,"data"],[37,28,23,32],[37,29,23,33],[37,30,23,34,"forEach"],[37,37,23,41],[37,38,23,43,"key"],[37,41,23,46],[37,45,23,51],[38,14,24,20],[38,18,24,24,"data"],[38,22,24,28],[38,23,24,29,"key"],[38,26,24,32],[38,27,24,33],[38,39,24,45,"File"],[38,43,24,49],[38,45,24,51],[39,16,25,24,"formData"],[39,24,25,32],[39,25,25,33,"append"],[39,31,25,39],[39,32,25,40,"key"],[39,35,25,43],[39,37,25,45,"data"],[39,41,25,49],[39,42,25,50,"key"],[39,45,25,53],[39,46,25,54],[39,48,25,56,"data"],[39,52,25,60],[39,53,25,61,"key"],[39,56,25,64],[39,57,25,65],[39,58,25,66,"name"],[39,62,25,70],[39,63,25,71],[40,14,26,20],[40,15,26,21],[40,21,27,25],[40,25,27,29],[40,32,27,36,"data"],[40,36,27,40],[40,37,27,41,"key"],[40,40,27,44],[40,41,27,45],[40,46,27,50],[40,54,27,58],[40,58,27,62,"data"],[40,62,27,66],[40,63,27,67,"key"],[40,66,27,70],[40,67,27,71],[40,72,27,76],[40,76,27,80],[40,78,27,82],[41,16,28,24,"formData"],[41,24,28,32],[41,25,28,33,"append"],[41,31,28,39],[41,32,28,40,"key"],[41,35,28,43],[41,37,28,45,"JSON"],[41,41,28,49],[41,42,28,50,"stringify"],[41,51,28,59],[41,52,28,60,"data"],[41,56,28,64],[41,57,28,65,"key"],[41,60,28,68],[41,61,28,69],[41,62,28,70],[41,63,28,71],[42,14,29,20],[42,15,29,21],[42,21,30,25],[43,16,31,24,"formData"],[43,24,31,32],[43,25,31,33,"append"],[43,31,31,39],[43,32,31,40,"key"],[43,35,31,43],[43,37,31,45,"data"],[43,41,31,49],[43,42,31,50,"key"],[43,45,31,53],[43,46,31,54],[43,47,31,55],[44,14,32,20],[45,12,33,16],[45,13,33,17],[45,14,33,18],[46,12,34,16,"contentType"],[46,23,34,27],[46,26,34,30],[46,47,34,51],[47,10,35,12],[47,11,35,13],[47,17,36,17],[48,12,37,16,"formData"],[48,20,37,24],[48,23,37,27,"data"],[48,27,37,31],[49,12,38,16,"contentType"],[49,23,38,27],[49,26,38,30],[49,44,38,48],[50,10,39,12],[51,10,40,12],[51,17,40,19,"axios"],[51,22,40,24],[51,23,40,25,"post"],[51,27,40,29],[51,28,40,30],[51,37,40,39,"appId"],[51,42,40,44],[51,56,40,58,"functionName"],[51,68,40,70],[51,70,40,72],[51,72,40,74,"formData"],[51,80,40,82],[51,84,40,86,"data"],[51,88,40,90],[51,90,40,92],[52,12,40,94,"headers"],[52,19,40,101],[52,21,40,103],[53,14,40,105],[53,28,40,119],[53,30,40,121,"contentType"],[54,12,40,133],[55,10,40,135],[55,11,40,136],[55,12,40,137],[56,8,40,138],[57,6,41,8],[58,4,42,4],[58,5,42,5],[59,2,43,0],[60,0,43,1],[60,3]],"functionMap":{"names":["<global>","createFunctionsModule","invoke","Object.values.some$argument_0","Object.keys.forEach$argument_0"],"mappings":"AAA;OCQ;QCG;kDCS,gCD;0CEE;iBFU;SDQ;CDE"},"hasCjsExports":false},"type":"js/module"}]}