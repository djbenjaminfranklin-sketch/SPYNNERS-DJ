{"dependencies":[],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.default = void 0;\n  function _defineProperty(obj, key, value) {\n    if (key in obj) {\n      Object.defineProperty(obj, key, {\n        value: value,\n        enumerable: true,\n        configurable: true,\n        writable: true\n      });\n    } else {\n      obj[key] = value;\n    }\n    return obj;\n  }\n\n  /* eslint-disable @typescript-eslint/no-empty-function */\n  class EventManager {\n    constructor(view) {\n      _defineProperty(this, \"view\", void 0);\n      _defineProperty(this, \"pointersInBounds\", []);\n      _defineProperty(this, \"activePointersCounter\", void 0);\n      this.view = view;\n      this.activePointersCounter = 0;\n    }\n    onPointerDown(_event) {}\n    onPointerAdd(_event) {}\n    onPointerUp(_event) {}\n    onPointerRemove(_event) {}\n    onPointerMove(_event) {}\n    onPointerLeave(_event) {} // Called only when pointer is pressed (or touching)\n\n    onPointerEnter(_event) {} // Called only when pointer is pressed (or touching)\n\n    onPointerCancel(_event) {// When pointer cancel is triggered and there are more pointers on the view, only one pointer is cancelled\n      // Because we want all pointers to be cancelled by that event, we are doing it manually by reseting handler and changing activePointersCounter to 0\n      // Events that correspond to removing the pointer (pointerup, touchend) have condition, that they don't perform any action when activePointersCounter\n      // is equal to 0. This prevents counter from going to negative values, when pointers are removed from view after one of them has been cancelled\n    }\n    onPointerOutOfBounds(_event) {}\n    onPointerMoveOver(_event) {}\n    onPointerMoveOut(_event) {}\n    setOnPointerDown(callback) {\n      this.onPointerDown = callback;\n    }\n    setOnPointerAdd(callback) {\n      this.onPointerAdd = callback;\n    }\n    setOnPointerUp(callback) {\n      this.onPointerUp = callback;\n    }\n    setOnPointerRemove(callback) {\n      this.onPointerRemove = callback;\n    }\n    setOnPointerMove(callback) {\n      this.onPointerMove = callback;\n    }\n    setOnPointerLeave(callback) {\n      this.onPointerLeave = callback;\n    }\n    setOnPointerEnter(callback) {\n      this.onPointerEnter = callback;\n    }\n    setOnPointerCancel(callback) {\n      this.onPointerCancel = callback;\n    }\n    setOnPointerOutOfBounds(callback) {\n      this.onPointerOutOfBounds = callback;\n    }\n    setOnPointerMoveOver(callback) {\n      this.onPointerMoveOver = callback;\n    }\n    setOnPointerMoveOut(callback) {\n      this.onPointerMoveOut = callback;\n    }\n    markAsInBounds(pointerId) {\n      if (this.pointersInBounds.indexOf(pointerId) >= 0) {\n        return;\n      }\n      this.pointersInBounds.push(pointerId);\n    }\n    markAsOutOfBounds(pointerId) {\n      const index = this.pointersInBounds.indexOf(pointerId);\n      if (index < 0) {\n        return;\n      }\n      this.pointersInBounds.splice(index, 1);\n    }\n    resetManager() {\n      // Reseting activePointersCounter is necessary to make gestures such as pinch work properly\n      // There are gestures that end when there is still one active pointer (like pinch/rotation)\n      // When these gestures end, they are reset, but they still receive events from pointer that is active\n      // This causes trouble, since only onPointerDown registers gesture in orchestrator, and while gestures receive\n      // Events from active pointer after they finished, next pointerdown event will be registered as additional pointer, not the first one\n      // This casues trouble like gestures getting stuck in END state, even though they should have gone to UNDETERMINED\n      this.activePointersCounter = 0;\n      this.pointersInBounds = [];\n    }\n  }\n  exports.default = EventManager;\n});","lineCount":106,"map":[[2,2,1,0],[2,14,1,12],[4,2,3,0,"Object"],[4,8,3,6],[4,9,3,7,"defineProperty"],[4,23,3,21],[4,24,3,22,"exports"],[4,31,3,29],[4,33,3,31],[4,45,3,43],[4,47,3,45],[5,4,4,2,"value"],[5,9,4,7],[5,11,4,9],[6,2,5,0],[6,3,5,1],[6,4,5,2],[7,2,6,0,"exports"],[7,9,6,7],[7,10,6,8,"default"],[7,17,6,15],[7,20,6,18],[7,25,6,23],[7,26,6,24],[8,2,8,0],[8,11,8,9,"_defineProperty"],[8,26,8,24,"_defineProperty"],[8,27,8,25,"obj"],[8,30,8,28],[8,32,8,30,"key"],[8,35,8,33],[8,37,8,35,"value"],[8,42,8,40],[8,44,8,42],[9,4,8,44],[9,8,8,48,"key"],[9,11,8,51],[9,15,8,55,"obj"],[9,18,8,58],[9,20,8,60],[10,6,8,62,"Object"],[10,12,8,68],[10,13,8,69,"defineProperty"],[10,27,8,83],[10,28,8,84,"obj"],[10,31,8,87],[10,33,8,89,"key"],[10,36,8,92],[10,38,8,94],[11,8,8,96,"value"],[11,13,8,101],[11,15,8,103,"value"],[11,20,8,108],[12,8,8,110,"enumerable"],[12,18,8,120],[12,20,8,122],[12,24,8,126],[13,8,8,128,"configurable"],[13,20,8,140],[13,22,8,142],[13,26,8,146],[14,8,8,148,"writable"],[14,16,8,156],[14,18,8,158],[15,6,8,163],[15,7,8,164],[15,8,8,165],[16,4,8,167],[16,5,8,168],[16,11,8,174],[17,6,8,176,"obj"],[17,9,8,179],[17,10,8,180,"key"],[17,13,8,183],[17,14,8,184],[17,17,8,187,"value"],[17,22,8,192],[18,4,8,194],[19,4,8,196],[19,11,8,203,"obj"],[19,14,8,206],[20,2,8,208],[22,2,10,0],[23,2,11,0],[23,8,11,6,"EventManager"],[23,20,11,18],[23,21,11,19],[24,4,12,2,"constructor"],[24,15,12,13,"constructor"],[24,16,12,14,"view"],[24,20,12,18],[24,22,12,20],[25,6,13,4,"_defineProperty"],[25,21,13,19],[25,22,13,20],[25,26,13,24],[25,28,13,26],[25,34,13,32],[25,36,13,34],[25,41,13,39],[25,42,13,40],[25,43,13,41],[26,6,15,4,"_defineProperty"],[26,21,15,19],[26,22,15,20],[26,26,15,24],[26,28,15,26],[26,46,15,44],[26,48,15,46],[26,50,15,48],[26,51,15,49],[27,6,17,4,"_defineProperty"],[27,21,17,19],[27,22,17,20],[27,26,17,24],[27,28,17,26],[27,51,17,49],[27,53,17,51],[27,58,17,56],[27,59,17,57],[27,60,17,58],[28,6,19,4],[28,10,19,8],[28,11,19,9,"view"],[28,15,19,13],[28,18,19,16,"view"],[28,22,19,20],[29,6,20,4],[29,10,20,8],[29,11,20,9,"activePointersCounter"],[29,32,20,30],[29,35,20,33],[29,36,20,34],[30,4,21,2],[31,4,23,2,"onPointerDown"],[31,17,23,15,"onPointerDown"],[31,18,23,16,"_event"],[31,24,23,22],[31,26,23,24],[31,27,23,25],[32,4,25,2,"onPointerAdd"],[32,16,25,14,"onPointerAdd"],[32,17,25,15,"_event"],[32,23,25,21],[32,25,25,23],[32,26,25,24],[33,4,27,2,"onPointerUp"],[33,15,27,13,"onPointerUp"],[33,16,27,14,"_event"],[33,22,27,20],[33,24,27,22],[33,25,27,23],[34,4,29,2,"onPointerRemove"],[34,19,29,17,"onPointerRemove"],[34,20,29,18,"_event"],[34,26,29,24],[34,28,29,26],[34,29,29,27],[35,4,31,2,"onPointerMove"],[35,17,31,15,"onPointerMove"],[35,18,31,16,"_event"],[35,24,31,22],[35,26,31,24],[35,27,31,25],[36,4,33,2,"onPointerLeave"],[36,18,33,16,"onPointerLeave"],[36,19,33,17,"_event"],[36,25,33,23],[36,27,33,25],[36,28,33,26],[36,29,33,27],[36,30,33,28],[38,4,36,2,"onPointerEnter"],[38,18,36,16,"onPointerEnter"],[38,19,36,17,"_event"],[38,25,36,23],[38,27,36,25],[38,28,36,26],[38,29,36,27],[38,30,36,28],[40,4,39,2,"onPointerCancel"],[40,19,39,17,"onPointerCancel"],[40,20,39,18,"_event"],[40,26,39,24],[40,28,39,26],[40,29,39,27],[41,6,40,4],[42,6,41,4],[43,6,42,4],[44,4,42,4],[45,4,45,2,"onPointerOutOfBounds"],[45,24,45,22,"onPointerOutOfBounds"],[45,25,45,23,"_event"],[45,31,45,29],[45,33,45,31],[45,34,45,32],[46,4,47,2,"onPointerMoveOver"],[46,21,47,19,"onPointerMoveOver"],[46,22,47,20,"_event"],[46,28,47,26],[46,30,47,28],[46,31,47,29],[47,4,49,2,"onPointerMoveOut"],[47,20,49,18,"onPointerMoveOut"],[47,21,49,19,"_event"],[47,27,49,25],[47,29,49,27],[47,30,49,28],[48,4,51,2,"setOnPointerDown"],[48,20,51,18,"setOnPointerDown"],[48,21,51,19,"callback"],[48,29,51,27],[48,31,51,29],[49,6,52,4],[49,10,52,8],[49,11,52,9,"onPointerDown"],[49,24,52,22],[49,27,52,25,"callback"],[49,35,52,33],[50,4,53,2],[51,4,55,2,"setOnPointerAdd"],[51,19,55,17,"setOnPointerAdd"],[51,20,55,18,"callback"],[51,28,55,26],[51,30,55,28],[52,6,56,4],[52,10,56,8],[52,11,56,9,"onPointerAdd"],[52,23,56,21],[52,26,56,24,"callback"],[52,34,56,32],[53,4,57,2],[54,4,59,2,"setOnPointerUp"],[54,18,59,16,"setOnPointerUp"],[54,19,59,17,"callback"],[54,27,59,25],[54,29,59,27],[55,6,60,4],[55,10,60,8],[55,11,60,9,"onPointerUp"],[55,22,60,20],[55,25,60,23,"callback"],[55,33,60,31],[56,4,61,2],[57,4,63,2,"setOnPointerRemove"],[57,22,63,20,"setOnPointerRemove"],[57,23,63,21,"callback"],[57,31,63,29],[57,33,63,31],[58,6,64,4],[58,10,64,8],[58,11,64,9,"onPointerRemove"],[58,26,64,24],[58,29,64,27,"callback"],[58,37,64,35],[59,4,65,2],[60,4,67,2,"setOnPointerMove"],[60,20,67,18,"setOnPointerMove"],[60,21,67,19,"callback"],[60,29,67,27],[60,31,67,29],[61,6,68,4],[61,10,68,8],[61,11,68,9,"onPointerMove"],[61,24,68,22],[61,27,68,25,"callback"],[61,35,68,33],[62,4,69,2],[63,4,71,2,"setOnPointerLeave"],[63,21,71,19,"setOnPointerLeave"],[63,22,71,20,"callback"],[63,30,71,28],[63,32,71,30],[64,6,72,4],[64,10,72,8],[64,11,72,9,"onPointerLeave"],[64,25,72,23],[64,28,72,26,"callback"],[64,36,72,34],[65,4,73,2],[66,4,75,2,"setOnPointerEnter"],[66,21,75,19,"setOnPointerEnter"],[66,22,75,20,"callback"],[66,30,75,28],[66,32,75,30],[67,6,76,4],[67,10,76,8],[67,11,76,9,"onPointerEnter"],[67,25,76,23],[67,28,76,26,"callback"],[67,36,76,34],[68,4,77,2],[69,4,79,2,"setOnPointerCancel"],[69,22,79,20,"setOnPointerCancel"],[69,23,79,21,"callback"],[69,31,79,29],[69,33,79,31],[70,6,80,4],[70,10,80,8],[70,11,80,9,"onPointerCancel"],[70,26,80,24],[70,29,80,27,"callback"],[70,37,80,35],[71,4,81,2],[72,4,83,2,"setOnPointerOutOfBounds"],[72,27,83,25,"setOnPointerOutOfBounds"],[72,28,83,26,"callback"],[72,36,83,34],[72,38,83,36],[73,6,84,4],[73,10,84,8],[73,11,84,9,"onPointerOutOfBounds"],[73,31,84,29],[73,34,84,32,"callback"],[73,42,84,40],[74,4,85,2],[75,4,87,2,"setOnPointerMoveOver"],[75,24,87,22,"setOnPointerMoveOver"],[75,25,87,23,"callback"],[75,33,87,31],[75,35,87,33],[76,6,88,4],[76,10,88,8],[76,11,88,9,"onPointerMoveOver"],[76,28,88,26],[76,31,88,29,"callback"],[76,39,88,37],[77,4,89,2],[78,4,91,2,"setOnPointerMoveOut"],[78,23,91,21,"setOnPointerMoveOut"],[78,24,91,22,"callback"],[78,32,91,30],[78,34,91,32],[79,6,92,4],[79,10,92,8],[79,11,92,9,"onPointerMoveOut"],[79,27,92,25],[79,30,92,28,"callback"],[79,38,92,36],[80,4,93,2],[81,4,95,2,"markAsInBounds"],[81,18,95,16,"markAsInBounds"],[81,19,95,17,"pointerId"],[81,28,95,26],[81,30,95,28],[82,6,96,4],[82,10,96,8],[82,14,96,12],[82,15,96,13,"pointersInBounds"],[82,31,96,29],[82,32,96,30,"indexOf"],[82,39,96,37],[82,40,96,38,"pointerId"],[82,49,96,47],[82,50,96,48],[82,54,96,52],[82,55,96,53],[82,57,96,55],[83,8,97,6],[84,6,98,4],[85,6,100,4],[85,10,100,8],[85,11,100,9,"pointersInBounds"],[85,27,100,25],[85,28,100,26,"push"],[85,32,100,30],[85,33,100,31,"pointerId"],[85,42,100,40],[85,43,100,41],[86,4,101,2],[87,4,103,2,"markAsOutOfBounds"],[87,21,103,19,"markAsOutOfBounds"],[87,22,103,20,"pointerId"],[87,31,103,29],[87,33,103,31],[88,6,104,4],[88,12,104,10,"index"],[88,17,104,15],[88,20,104,18],[88,24,104,22],[88,25,104,23,"pointersInBounds"],[88,41,104,39],[88,42,104,40,"indexOf"],[88,49,104,47],[88,50,104,48,"pointerId"],[88,59,104,57],[88,60,104,58],[89,6,106,4],[89,10,106,8,"index"],[89,15,106,13],[89,18,106,16],[89,19,106,17],[89,21,106,19],[90,8,107,6],[91,6,108,4],[92,6,110,4],[92,10,110,8],[92,11,110,9,"pointersInBounds"],[92,27,110,25],[92,28,110,26,"splice"],[92,34,110,32],[92,35,110,33,"index"],[92,40,110,38],[92,42,110,40],[92,43,110,41],[92,44,110,42],[93,4,111,2],[94,4,113,2,"resetManager"],[94,16,113,14,"resetManager"],[94,17,113,14],[94,19,113,17],[95,6,114,4],[96,6,115,4],[97,6,116,4],[98,6,117,4],[99,6,118,4],[100,6,119,4],[101,6,120,4],[101,10,120,8],[101,11,120,9,"activePointersCounter"],[101,32,120,30],[101,35,120,33],[101,36,120,34],[102,6,121,4],[102,10,121,8],[102,11,121,9,"pointersInBounds"],[102,27,121,25],[102,30,121,28],[102,32,121,30],[103,4,122,2],[104,2,124,0],[105,2,126,0,"exports"],[105,9,126,7],[105,10,126,8,"default"],[105,17,126,15],[105,20,126,18,"EventManager"],[105,32,126,30],[106,0,126,31],[106,3]],"functionMap":{"names":["<global>","_defineProperty","EventManager","constructor","onPointerDown","onPointerAdd","onPointerUp","onPointerRemove","onPointerMove","onPointerLeave","onPointerEnter","onPointerCancel","onPointerOutOfBounds","onPointerMoveOver","onPointerMoveOut","setOnPointerDown","setOnPointerAdd","setOnPointerUp","setOnPointerRemove","setOnPointerMove","setOnPointerLeave","setOnPointerEnter","setOnPointerCancel","setOnPointerOutOfBounds","setOnPointerMoveOver","setOnPointerMoveOut","markAsInBounds","markAsOutOfBounds","resetManager"],"mappings":"AAA;ACO,iND;AEG;ECC;GDS;EEE,wBF;EGE,uBH;EIE,sBJ;EKE,0BL;EME,wBN;EOE,yBP;EQG,yBR;ESG;GTI;EUE,+BV;EWE,4BX;EYE,2BZ;EaE;GbE;EcE;GdE;EeE;GfE;EgBE;GhBE;EiBE;GjBE;EkBE;GlBE;EmBE;GnBE;EoBE;GpBE;EqBE;GrBE;EsBE;GtBE;EuBE;GvBE;EwBE;GxBM;EyBE;GzBQ;E0BE;G1BS;CFE"},"hasCjsExports":true},"type":"js/module"}]}