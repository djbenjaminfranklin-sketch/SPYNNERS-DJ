{"dependencies":[{"name":"../utils/auth-utils.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":56,"index":56}}],"key":"ZBmctxxjxi3m55Nlej4mfi6fkFI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function(g,r,i,a,m,e,d){\"use strict\";Object.defineProperty(e,'__esModule',{value:!0}),e.createAgentsModule=function({axios:t,getSocket:n,appId:o,serverUrl:c,token:p}){const u=`/apps/${o}/agents`;return{getConversations:()=>t.get(`${u}/conversations`),getConversation:s=>t.get(`${u}/conversations/${s}`),listConversations:s=>t.get(`${u}/conversations`,{params:s}),createConversation:s=>t.post(`${u}/conversations`,s),addMessage:async(s,o)=>{const c=`/agent-conversations/${s.id}`,p=n();return await p.updateModel(c,{...s,messages:[...s.messages||[],o]}),t.post(`${u}/conversations/${s.id}/messages`,o)},subscribeToConversation:(s,t)=>{const o=`/agent-conversations/${s}`;return n().subscribeToRoom(o,{connect:()=>{},update_model:({data:s})=>{const n=JSON.parse(s);null==t||t(n)}})},getWhatsAppConnectURL:t=>{const n=`${c}/api/apps/${o}/agents/${encodeURIComponent(t)}/whatsapp`,u=null!=p?p:(0,s.getAccessToken)();return u?`${n}?token=${u}`:n}}};var s=r(d[0])});","lineCount":1,"map":[[1,90,2,0,"e"],[1,92,2,0,"createAgentsModule"],[1,111,2,7],[1,121,2,35,"axios"],[1,127,2,37,"axios"],[1,129,2,42,"getSocket"],[1,139,2,44,"getSocket"],[1,141,2,53,"appId"],[1,147,2,55,"appId"],[1,149,2,60,"serverUrl"],[1,159,2,62,"serverUrl"],[1,161,2,71,"token"],[1,167,2,73,"token"],[1,171,3,4],[1,177,3,10,"baseURL"],[1,179,3,20],[1,188,3,29,"appId"],[1,199,49,4],[1,205,49,11],[1,206,50,8,"getConversations"],[1,223,4,29,"getConversations"],[1,227,5,15,"axios"],[1,229,5,21,"get"],[1,233,5,25],[1,236,5,28,"baseURL"],[1,255,51,8,"getConversation"],[1,271,7,29,"conversationId"],[1,274,8,15,"axios"],[1,276,8,21,"get"],[1,280,8,25],[1,283,8,28,"baseURL"],[1,302,8,53,"conversationId"],[1,307,52,8,"listConversations"],[1,325,10,31,"filterParams"],[1,328,11,15,"axios"],[1,330,11,21,"get"],[1,334,11,25],[1,337,11,28,"baseURL"],[1,355,11,53],[1,356,12,12,"params"],[1,363,12,20,"filterParams"],[1,367,53,8,"createConversation"],[1,386,15,32,"conversation"],[1,389,16,15,"axios"],[1,391,16,21,"post"],[1,396,16,26],[1,399,16,29,"baseURL"],[1,417,16,54,"conversation"],[1,420,54,8,"addMessage"],[1,431,18,23,"async"],[1,437,18,30,"conversation"],[1,439,18,44,"message"],[1,444,19,8],[1,450,19,14,"room"],[1,452,19,21],[1,476,19,45,"conversation"],[1,478,19,58,"id"],[1,483,20,14,"socket"],[1,485,20,23,"getSocket"],[1,489,25,8],[1,502,21,14,"socket"],[1,504,21,21,"updateModel"],[1,516,21,33,"room"],[1,518,21,39],[1,522,22,15,"conversation"],[1,524,23,12,"messages"],[1,533,23,22],[1,537,23,27,"conversation"],[1,539,23,40,"messages"],[1,549,23,52],[1,552,23,57,"message"],[1,557,25,15,"axios"],[1,559,25,21,"post"],[1,564,25,26],[1,567,25,29,"baseURL"],[1,586,25,54,"conversation"],[1,588,25,67,"id"],[1,602,25,82,"message"],[1,606,55,8,"subscribeToConversation"],[1,630,27,36,"subscribeToConversation"],[1,631,27,37,"conversationId"],[1,633,27,53,"onUpdate"],[1,638,28,8],[1,644,28,14,"room"],[1,646,28,21],[1,670,28,45,"conversationId"],[1,674,30,8],[1,681,29,23,"getSocket"],[1,685,30,22,"subscribeToRoom"],[1,701,30,38,"room"],[1,703,30,44],[1,704,31,12,"connect"],[1,712,31,21,"connect"],[1,719,32,12,"update_model"],[1,732,32,26,"update_model"],[1,734,32,29,"data"],[1,739,32,35,"jsonStr"],[1,745,33,16],[1,751,33,22,"conv"],[1,753,33,29,"JSON"],[1,758,33,34,"parse"],[1,764,33,40,"jsonStr"],[1,767,34,16,"onUpdate"],[1,776,34,68,"onUpdate"],[1,778,34,77,"conv"],[1,785,56,8,"getWhatsAppConnectURL"],[1,807,38,35,"agentName"],[1,811,39,8],[1,817,39,14,"baseUrl"],[1,819,39,24],[1,822,39,27,"serverUrl"],[1,836,39,49,"appId"],[1,848,39,65,"encodeURIComponent"],[1,867,39,84,"agentName"],[1,881,40,14,"accessToken"],[1,883,40,28,"token"],[1,891,40,65,"token"],[1,894,40,73],[1,896,40,73,"getAccessToken"],[1,898,40,87,"getAccessToken"],[1,916,41,8],[1,923,41,12,"accessToken"],[1,925,42,19],[1,928,42,22,"baseUrl"],[1,939,42,39,"accessToken"],[1,943,46,19,"baseUrl"],[1,946,58,0],[1,948,1,0],[1,952,1,0,"_utilsAuthUtilsJs"],[1,954,1,0,"r"],[1,956,1,0,"d"],[1,958,1,0],[1,961,58,1],[1,964]],"functionMap":{"names":["<global>","createAgentsModule","getConversations","getConversation","listConversations","createConversation","addMessage","subscribeToConversation","socket.subscribeToRoom$argument_1.connect","socket.subscribeToRoom$argument_1.update_model","getWhatsAppConnectURL"],"mappings":"AAA;OCC;6BCE;KDE;4BEC;KFE;8BGC;KHI;+BIC;KJE;uBKC;KLQ;oCMC;qBCI,SD;0BEC;aFG;KNE;kCSC;KTU;CDU"},"hasCjsExports":false},"type":"js/module"}]}