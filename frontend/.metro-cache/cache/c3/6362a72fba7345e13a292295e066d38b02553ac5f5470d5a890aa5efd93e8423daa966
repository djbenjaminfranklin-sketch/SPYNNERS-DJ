{"dependencies":[],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return EventManager;\n    }\n  });\n  function _defineProperty(obj, key, value) {\n    if (key in obj) {\n      Object.defineProperty(obj, key, {\n        value: value,\n        enumerable: true,\n        configurable: true,\n        writable: true\n      });\n    } else {\n      obj[key] = value;\n    }\n    return obj;\n  }\n\n  /* eslint-disable @typescript-eslint/no-empty-function */\n  class EventManager {\n    constructor(view) {\n      _defineProperty(this, \"view\", void 0);\n      _defineProperty(this, \"pointersInBounds\", []);\n      _defineProperty(this, \"activePointersCounter\", void 0);\n      this.view = view;\n      this.activePointersCounter = 0;\n    }\n    onPointerDown(_event) {}\n    onPointerAdd(_event) {}\n    onPointerUp(_event) {}\n    onPointerRemove(_event) {}\n    onPointerMove(_event) {}\n    onPointerLeave(_event) {} // Called only when pointer is pressed (or touching)\n\n    onPointerEnter(_event) {} // Called only when pointer is pressed (or touching)\n\n    onPointerCancel(_event) {// When pointer cancel is triggered and there are more pointers on the view, only one pointer is cancelled\n      // Because we want all pointers to be cancelled by that event, we are doing it manually by reseting handler and changing activePointersCounter to 0\n      // Events that correspond to removing the pointer (pointerup, touchend) have condition, that they don't perform any action when activePointersCounter\n      // is equal to 0. This prevents counter from going to negative values, when pointers are removed from view after one of them has been cancelled\n    }\n    onPointerOutOfBounds(_event) {}\n    onPointerMoveOver(_event) {}\n    onPointerMoveOut(_event) {}\n    setOnPointerDown(callback) {\n      this.onPointerDown = callback;\n    }\n    setOnPointerAdd(callback) {\n      this.onPointerAdd = callback;\n    }\n    setOnPointerUp(callback) {\n      this.onPointerUp = callback;\n    }\n    setOnPointerRemove(callback) {\n      this.onPointerRemove = callback;\n    }\n    setOnPointerMove(callback) {\n      this.onPointerMove = callback;\n    }\n    setOnPointerLeave(callback) {\n      this.onPointerLeave = callback;\n    }\n    setOnPointerEnter(callback) {\n      this.onPointerEnter = callback;\n    }\n    setOnPointerCancel(callback) {\n      this.onPointerCancel = callback;\n    }\n    setOnPointerOutOfBounds(callback) {\n      this.onPointerOutOfBounds = callback;\n    }\n    setOnPointerMoveOver(callback) {\n      this.onPointerMoveOver = callback;\n    }\n    setOnPointerMoveOut(callback) {\n      this.onPointerMoveOut = callback;\n    }\n    markAsInBounds(pointerId) {\n      if (this.pointersInBounds.indexOf(pointerId) >= 0) {\n        return;\n      }\n      this.pointersInBounds.push(pointerId);\n    }\n    markAsOutOfBounds(pointerId) {\n      const index = this.pointersInBounds.indexOf(pointerId);\n      if (index < 0) {\n        return;\n      }\n      this.pointersInBounds.splice(index, 1);\n    }\n    resetManager() {\n      // Reseting activePointersCounter is necessary to make gestures such as pinch work properly\n      // There are gestures that end when there is still one active pointer (like pinch/rotation)\n      // When these gestures end, they are reset, but they still receive events from pointer that is active\n      // This causes trouble, since only onPointerDown registers gesture in orchestrator, and while gestures receive\n      // Events from active pointer after they finished, next pointerdown event will be registered as additional pointer, not the first one\n      // This casues trouble like gestures getting stuck in END state, even though they should have gone to UNDETERMINED\n      this.activePointersCounter = 0;\n      this.pointersInBounds = [];\n    }\n  }\n});","lineCount":110,"map":[[7,2,4,15,"Object"],[7,8,4,15],[7,9,4,15,"defineProperty"],[7,23,4,15],[7,24,4,15,"exports"],[7,31,4,15],[8,4,4,15,"enumerable"],[8,14,4,15],[9,4,4,15,"get"],[9,7,4,15],[9,18,4,15,"get"],[9,19,4,15],[10,6,4,15],[10,13,4,15,"EventManager"],[10,25,4,15],[11,4,4,15],[12,2,4,15],[13,2,1,0],[13,11,1,9,"_defineProperty"],[13,26,1,24,"_defineProperty"],[13,27,1,25,"obj"],[13,30,1,28],[13,32,1,30,"key"],[13,35,1,33],[13,37,1,35,"value"],[13,42,1,40],[13,44,1,42],[14,4,1,44],[14,8,1,48,"key"],[14,11,1,51],[14,15,1,55,"obj"],[14,18,1,58],[14,20,1,60],[15,6,1,62,"Object"],[15,12,1,68],[15,13,1,69,"defineProperty"],[15,27,1,83],[15,28,1,84,"obj"],[15,31,1,87],[15,33,1,89,"key"],[15,36,1,92],[15,38,1,94],[16,8,1,96,"value"],[16,13,1,101],[16,15,1,103,"value"],[16,20,1,108],[17,8,1,110,"enumerable"],[17,18,1,120],[17,20,1,122],[17,24,1,126],[18,8,1,128,"configurable"],[18,20,1,140],[18,22,1,142],[18,26,1,146],[19,8,1,148,"writable"],[19,16,1,156],[19,18,1,158],[20,6,1,163],[20,7,1,164],[20,8,1,165],[21,4,1,167],[21,5,1,168],[21,11,1,174],[22,6,1,176,"obj"],[22,9,1,179],[22,10,1,180,"key"],[22,13,1,183],[22,14,1,184],[22,17,1,187,"value"],[22,22,1,192],[23,4,1,194],[24,4,1,196],[24,11,1,203,"obj"],[24,14,1,206],[25,2,1,208],[27,2,3,0],[28,2,4,15],[28,8,4,21,"EventManager"],[28,20,4,33],[28,21,4,34],[29,4,5,2,"constructor"],[29,15,5,13,"constructor"],[29,16,5,14,"view"],[29,20,5,18],[29,22,5,20],[30,6,6,4,"_defineProperty"],[30,21,6,19],[30,22,6,20],[30,26,6,24],[30,28,6,26],[30,34,6,32],[30,36,6,34],[30,41,6,39],[30,42,6,40],[30,43,6,41],[31,6,8,4,"_defineProperty"],[31,21,8,19],[31,22,8,20],[31,26,8,24],[31,28,8,26],[31,46,8,44],[31,48,8,46],[31,50,8,48],[31,51,8,49],[32,6,10,4,"_defineProperty"],[32,21,10,19],[32,22,10,20],[32,26,10,24],[32,28,10,26],[32,51,10,49],[32,53,10,51],[32,58,10,56],[32,59,10,57],[32,60,10,58],[33,6,12,4],[33,10,12,8],[33,11,12,9,"view"],[33,15,12,13],[33,18,12,16,"view"],[33,22,12,20],[34,6,13,4],[34,10,13,8],[34,11,13,9,"activePointersCounter"],[34,32,13,30],[34,35,13,33],[34,36,13,34],[35,4,14,2],[36,4,16,2,"onPointerDown"],[36,17,16,15,"onPointerDown"],[36,18,16,16,"_event"],[36,24,16,22],[36,26,16,24],[36,27,16,25],[37,4,18,2,"onPointerAdd"],[37,16,18,14,"onPointerAdd"],[37,17,18,15,"_event"],[37,23,18,21],[37,25,18,23],[37,26,18,24],[38,4,20,2,"onPointerUp"],[38,15,20,13,"onPointerUp"],[38,16,20,14,"_event"],[38,22,20,20],[38,24,20,22],[38,25,20,23],[39,4,22,2,"onPointerRemove"],[39,19,22,17,"onPointerRemove"],[39,20,22,18,"_event"],[39,26,22,24],[39,28,22,26],[39,29,22,27],[40,4,24,2,"onPointerMove"],[40,17,24,15,"onPointerMove"],[40,18,24,16,"_event"],[40,24,24,22],[40,26,24,24],[40,27,24,25],[41,4,26,2,"onPointerLeave"],[41,18,26,16,"onPointerLeave"],[41,19,26,17,"_event"],[41,25,26,23],[41,27,26,25],[41,28,26,26],[41,29,26,27],[41,30,26,28],[43,4,29,2,"onPointerEnter"],[43,18,29,16,"onPointerEnter"],[43,19,29,17,"_event"],[43,25,29,23],[43,27,29,25],[43,28,29,26],[43,29,29,27],[43,30,29,28],[45,4,32,2,"onPointerCancel"],[45,19,32,17,"onPointerCancel"],[45,20,32,18,"_event"],[45,26,32,24],[45,28,32,26],[45,29,32,27],[46,6,33,4],[47,6,34,4],[48,6,35,4],[49,4,35,4],[50,4,38,2,"onPointerOutOfBounds"],[50,24,38,22,"onPointerOutOfBounds"],[50,25,38,23,"_event"],[50,31,38,29],[50,33,38,31],[50,34,38,32],[51,4,40,2,"onPointerMoveOver"],[51,21,40,19,"onPointerMoveOver"],[51,22,40,20,"_event"],[51,28,40,26],[51,30,40,28],[51,31,40,29],[52,4,42,2,"onPointerMoveOut"],[52,20,42,18,"onPointerMoveOut"],[52,21,42,19,"_event"],[52,27,42,25],[52,29,42,27],[52,30,42,28],[53,4,44,2,"setOnPointerDown"],[53,20,44,18,"setOnPointerDown"],[53,21,44,19,"callback"],[53,29,44,27],[53,31,44,29],[54,6,45,4],[54,10,45,8],[54,11,45,9,"onPointerDown"],[54,24,45,22],[54,27,45,25,"callback"],[54,35,45,33],[55,4,46,2],[56,4,48,2,"setOnPointerAdd"],[56,19,48,17,"setOnPointerAdd"],[56,20,48,18,"callback"],[56,28,48,26],[56,30,48,28],[57,6,49,4],[57,10,49,8],[57,11,49,9,"onPointerAdd"],[57,23,49,21],[57,26,49,24,"callback"],[57,34,49,32],[58,4,50,2],[59,4,52,2,"setOnPointerUp"],[59,18,52,16,"setOnPointerUp"],[59,19,52,17,"callback"],[59,27,52,25],[59,29,52,27],[60,6,53,4],[60,10,53,8],[60,11,53,9,"onPointerUp"],[60,22,53,20],[60,25,53,23,"callback"],[60,33,53,31],[61,4,54,2],[62,4,56,2,"setOnPointerRemove"],[62,22,56,20,"setOnPointerRemove"],[62,23,56,21,"callback"],[62,31,56,29],[62,33,56,31],[63,6,57,4],[63,10,57,8],[63,11,57,9,"onPointerRemove"],[63,26,57,24],[63,29,57,27,"callback"],[63,37,57,35],[64,4,58,2],[65,4,60,2,"setOnPointerMove"],[65,20,60,18,"setOnPointerMove"],[65,21,60,19,"callback"],[65,29,60,27],[65,31,60,29],[66,6,61,4],[66,10,61,8],[66,11,61,9,"onPointerMove"],[66,24,61,22],[66,27,61,25,"callback"],[66,35,61,33],[67,4,62,2],[68,4,64,2,"setOnPointerLeave"],[68,21,64,19,"setOnPointerLeave"],[68,22,64,20,"callback"],[68,30,64,28],[68,32,64,30],[69,6,65,4],[69,10,65,8],[69,11,65,9,"onPointerLeave"],[69,25,65,23],[69,28,65,26,"callback"],[69,36,65,34],[70,4,66,2],[71,4,68,2,"setOnPointerEnter"],[71,21,68,19,"setOnPointerEnter"],[71,22,68,20,"callback"],[71,30,68,28],[71,32,68,30],[72,6,69,4],[72,10,69,8],[72,11,69,9,"onPointerEnter"],[72,25,69,23],[72,28,69,26,"callback"],[72,36,69,34],[73,4,70,2],[74,4,72,2,"setOnPointerCancel"],[74,22,72,20,"setOnPointerCancel"],[74,23,72,21,"callback"],[74,31,72,29],[74,33,72,31],[75,6,73,4],[75,10,73,8],[75,11,73,9,"onPointerCancel"],[75,26,73,24],[75,29,73,27,"callback"],[75,37,73,35],[76,4,74,2],[77,4,76,2,"setOnPointerOutOfBounds"],[77,27,76,25,"setOnPointerOutOfBounds"],[77,28,76,26,"callback"],[77,36,76,34],[77,38,76,36],[78,6,77,4],[78,10,77,8],[78,11,77,9,"onPointerOutOfBounds"],[78,31,77,29],[78,34,77,32,"callback"],[78,42,77,40],[79,4,78,2],[80,4,80,2,"setOnPointerMoveOver"],[80,24,80,22,"setOnPointerMoveOver"],[80,25,80,23,"callback"],[80,33,80,31],[80,35,80,33],[81,6,81,4],[81,10,81,8],[81,11,81,9,"onPointerMoveOver"],[81,28,81,26],[81,31,81,29,"callback"],[81,39,81,37],[82,4,82,2],[83,4,84,2,"setOnPointerMoveOut"],[83,23,84,21,"setOnPointerMoveOut"],[83,24,84,22,"callback"],[83,32,84,30],[83,34,84,32],[84,6,85,4],[84,10,85,8],[84,11,85,9,"onPointerMoveOut"],[84,27,85,25],[84,30,85,28,"callback"],[84,38,85,36],[85,4,86,2],[86,4,88,2,"markAsInBounds"],[86,18,88,16,"markAsInBounds"],[86,19,88,17,"pointerId"],[86,28,88,26],[86,30,88,28],[87,6,89,4],[87,10,89,8],[87,14,89,12],[87,15,89,13,"pointersInBounds"],[87,31,89,29],[87,32,89,30,"indexOf"],[87,39,89,37],[87,40,89,38,"pointerId"],[87,49,89,47],[87,50,89,48],[87,54,89,52],[87,55,89,53],[87,57,89,55],[88,8,90,6],[89,6,91,4],[90,6,93,4],[90,10,93,8],[90,11,93,9,"pointersInBounds"],[90,27,93,25],[90,28,93,26,"push"],[90,32,93,30],[90,33,93,31,"pointerId"],[90,42,93,40],[90,43,93,41],[91,4,94,2],[92,4,96,2,"markAsOutOfBounds"],[92,21,96,19,"markAsOutOfBounds"],[92,22,96,20,"pointerId"],[92,31,96,29],[92,33,96,31],[93,6,97,4],[93,12,97,10,"index"],[93,17,97,15],[93,20,97,18],[93,24,97,22],[93,25,97,23,"pointersInBounds"],[93,41,97,39],[93,42,97,40,"indexOf"],[93,49,97,47],[93,50,97,48,"pointerId"],[93,59,97,57],[93,60,97,58],[94,6,99,4],[94,10,99,8,"index"],[94,15,99,13],[94,18,99,16],[94,19,99,17],[94,21,99,19],[95,8,100,6],[96,6,101,4],[97,6,103,4],[97,10,103,8],[97,11,103,9,"pointersInBounds"],[97,27,103,25],[97,28,103,26,"splice"],[97,34,103,32],[97,35,103,33,"index"],[97,40,103,38],[97,42,103,40],[97,43,103,41],[97,44,103,42],[98,4,104,2],[99,4,106,2,"resetManager"],[99,16,106,14,"resetManager"],[99,17,106,14],[99,19,106,17],[100,6,107,4],[101,6,108,4],[102,6,109,4],[103,6,110,4],[104,6,111,4],[105,6,112,4],[106,6,113,4],[106,10,113,8],[106,11,113,9,"activePointersCounter"],[106,32,113,30],[106,35,113,33],[106,36,113,34],[107,6,114,4],[107,10,114,8],[107,11,114,9,"pointersInBounds"],[107,27,114,25],[107,30,114,28],[107,32,114,30],[108,4,115,2],[109,2,117,0],[110,0,117,1],[110,3]],"functionMap":{"names":["_defineProperty","<global>","EventManager","constructor","onPointerDown","onPointerAdd","onPointerUp","onPointerRemove","onPointerMove","onPointerLeave","onPointerEnter","onPointerCancel","onPointerOutOfBounds","onPointerMoveOver","onPointerMoveOut","setOnPointerDown","setOnPointerAdd","setOnPointerUp","setOnPointerRemove","setOnPointerMove","setOnPointerLeave","setOnPointerEnter","setOnPointerCancel","setOnPointerOutOfBounds","setOnPointerMoveOver","setOnPointerMoveOut","markAsInBounds","markAsOutOfBounds","resetManager"],"mappings":"AAA,iNC;eCG;ECC;GDS;EEE,wBF;EGE,uBH;EIE,sBJ;EKE,0BL;EME,wBN;EOE,yBP;EQG,yBR;ESG;GTI;EUE,+BV;EWE,4BX;EYE,2BZ;EaE;GbE;EcE;GdE;EeE;GfE;EgBE;GhBE;EiBE;GjBE;EkBE;GlBE;EmBE;GnBE;EoBE;GpBE;EqBE;GrBE;EsBE;GtBE;EuBE;GvBE;EwBE;GxBM;EyBE;GzBQ;E0BE;G1BS;CDE"},"hasCjsExports":false},"type":"js/module"}]}