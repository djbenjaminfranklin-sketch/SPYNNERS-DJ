{"dependencies":[{"name":"../../handlersRegistry","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":8,"column":24,"index":146},"end":{"line":8,"column":57,"index":179}}],"key":"ZaQ44tMlNi0uwwL9WSHpSUsXoLw=","exportNames":["*"],"imports":1}},{"name":"../../../RNGestureHandlerModule","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":10,"column":53,"index":235},"end":{"line":10,"column":95,"index":277}}],"key":"RCDdIknCoffiRx5ELXjRDwUd78Y=","exportNames":["*"],"imports":1}},{"name":"../../utils","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":12,"column":13,"index":294},"end":{"line":12,"column":35,"index":316}}],"key":"/gxgMVIBQIOS9WgzAWnJsYriGvM=","exportNames":["*"],"imports":1}},{"name":"../../../ActionType","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":14,"column":18,"index":337},"end":{"line":14,"column":48,"index":367}}],"key":"gYYgg0THnWXWh/2KlF2llIoqsgE=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/index","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"55efhPHw3gz2FoQtoN2yI1VuhbM=","exportNames":["*"],"imports":1}},{"name":"../../../ghQueueMicrotask","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":18,"column":24,"index":439},"end":{"line":18,"column":60,"index":475}}],"key":"bloXnJQHwqvTb0wIEM895i4Wj90=","exportNames":["*"],"imports":1}},{"name":"./utils","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":20,"column":14,"index":492},"end":{"line":20,"column":32,"index":510}}],"key":"Arg6QRuIuy5D/jfcnxX1qJiHjX8=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.attachHandlers = attachHandlers;\n  var _handlersRegistry = require(_dependencyMap[0], \"../../handlersRegistry\");\n  var _RNGestureHandlerModule = _interopRequireDefault(require(_dependencyMap[1], \"../../../RNGestureHandlerModule\"));\n  var _utils = require(_dependencyMap[2], \"../../utils\");\n  var _ActionType = require(_dependencyMap[3], \"../../../ActionType\");\n  var _reactNative = require(_dependencyMap[4], \"react-native-web/dist/index\");\n  var _ghQueueMicrotask = require(_dependencyMap[5], \"../../../ghQueueMicrotask\");\n  var _utils2 = require(_dependencyMap[6], \"./utils\");\n  function _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n      default: obj\n    };\n  }\n  function attachHandlers({\n    preparedGesture,\n    gestureConfig,\n    gesturesToAttach,\n    viewTag,\n    webEventHandlersRef\n  }) {\n    gestureConfig.initialize(); // Use queueMicrotask to extract handlerTags, because all refs should be initialized\n    // when it's ran\n\n    (0, _ghQueueMicrotask.ghQueueMicrotask)(() => {\n      if (!preparedGesture.isMounted) {\n        return;\n      }\n      gestureConfig.prepare();\n    });\n    for (const handler of gesturesToAttach) {\n      (0, _utils2.checkGestureCallbacksForWorklets)(handler);\n      _RNGestureHandlerModule.default.createGestureHandler(handler.handlerName, handler.handlerTag, (0, _utils.filterConfig)(handler.config, _utils2.ALLOWED_PROPS));\n      (0, _handlersRegistry.registerHandler)(handler.handlerTag, handler, handler.config.testId);\n    } // Use queueMicrotask to extract handlerTags, because all refs should be initialized\n    // when it's ran\n\n    (0, _ghQueueMicrotask.ghQueueMicrotask)(() => {\n      if (!preparedGesture.isMounted) {\n        return;\n      }\n      for (const handler of gesturesToAttach) {\n        _RNGestureHandlerModule.default.updateGestureHandler(handler.handlerTag, (0, _utils.filterConfig)(handler.config, _utils2.ALLOWED_PROPS, (0, _utils2.extractGestureRelations)(handler)));\n      }\n      (0, _utils.scheduleFlushOperations)();\n    });\n    for (const gesture of gesturesToAttach) {\n      const actionType = gesture.shouldUseReanimated ? _ActionType.ActionType.REANIMATED_WORKLET : _ActionType.ActionType.JS_FUNCTION_NEW_API;\n      if (_reactNative.Platform.OS === 'web') {\n        _RNGestureHandlerModule.default.attachGestureHandler(gesture.handlerTag, viewTag, _ActionType.ActionType.JS_FUNCTION_OLD_API,\n        // Ignored on web\n        webEventHandlersRef);\n      } else {\n        _RNGestureHandlerModule.default.attachGestureHandler(gesture.handlerTag, viewTag, actionType);\n      }\n    }\n    preparedGesture.attachedGestures = gesturesToAttach;\n    if (preparedGesture.animatedHandlers) {\n      const isAnimatedGesture = g => g.shouldUseReanimated;\n      preparedGesture.animatedHandlers.value = gesturesToAttach.filter(isAnimatedGesture).map(g => g.handlers);\n    }\n  }\n});","lineCount":68,"map":[[2,2,1,0],[2,14,1,12],[4,2,3,0,"Object"],[4,8,3,6],[4,9,3,7,"defineProperty"],[4,23,3,21],[4,24,3,22,"exports"],[4,31,3,29],[4,33,3,31],[4,45,3,43],[4,47,3,45],[5,4,4,2,"value"],[5,9,4,7],[5,11,4,9],[6,2,5,0],[6,3,5,1],[6,4,5,2],[7,2,6,0,"exports"],[7,9,6,7],[7,10,6,8,"attachHandlers"],[7,24,6,22],[7,27,6,25,"attachHandlers"],[7,41,6,39],[8,2,8,0],[8,6,8,4,"_handlersRegistry"],[8,23,8,21],[8,26,8,24,"require"],[8,33,8,31],[8,34,8,31,"_dependencyMap"],[8,48,8,31],[8,77,8,56],[8,78,8,57],[9,2,10,0],[9,6,10,4,"_RNGestureHandlerModule"],[9,29,10,27],[9,32,10,30,"_interopRequireDefault"],[9,54,10,52],[9,55,10,53,"require"],[9,62,10,60],[9,63,10,60,"_dependencyMap"],[9,77,10,60],[9,115,10,94],[9,116,10,95],[9,117,10,96],[10,2,12,0],[10,6,12,4,"_utils"],[10,12,12,10],[10,15,12,13,"require"],[10,22,12,20],[10,23,12,20,"_dependencyMap"],[10,37,12,20],[10,55,12,34],[10,56,12,35],[11,2,14,0],[11,6,14,4,"_ActionType"],[11,17,14,15],[11,20,14,18,"require"],[11,27,14,25],[11,28,14,25,"_dependencyMap"],[11,42,14,25],[11,68,14,47],[11,69,14,48],[12,2,14,49],[12,6,14,49,"_reactNative"],[12,18,14,49],[12,21,14,49,"require"],[12,28,14,49],[12,29,14,49,"_dependencyMap"],[12,43,14,49],[13,2,18,0],[13,6,18,4,"_ghQueueMicrotask"],[13,23,18,21],[13,26,18,24,"require"],[13,33,18,31],[13,34,18,31,"_dependencyMap"],[13,48,18,31],[13,80,18,59],[13,81,18,60],[14,2,20,0],[14,6,20,4,"_utils2"],[14,13,20,11],[14,16,20,14,"require"],[14,23,20,21],[14,24,20,21,"_dependencyMap"],[14,38,20,21],[14,52,20,31],[14,53,20,32],[15,2,22,0],[15,11,22,9,"_interopRequireDefault"],[15,33,22,31,"_interopRequireDefault"],[15,34,22,32,"obj"],[15,37,22,35],[15,39,22,37],[16,4,22,39],[16,11,22,46,"obj"],[16,14,22,49],[16,18,22,53,"obj"],[16,21,22,56],[16,22,22,57,"__esModule"],[16,32,22,67],[16,35,22,70,"obj"],[16,38,22,73],[16,41,22,76],[17,6,22,78,"default"],[17,13,22,85],[17,15,22,87,"obj"],[18,4,22,91],[18,5,22,92],[19,2,22,94],[20,2,24,0],[20,11,24,9,"attachHandlers"],[20,25,24,23,"attachHandlers"],[20,26,24,24],[21,4,25,2,"preparedGesture"],[21,19,25,17],[22,4,26,2,"gestureConfig"],[22,17,26,15],[23,4,27,2,"gesturesToAttach"],[23,20,27,18],[24,4,28,2,"viewTag"],[24,11,28,9],[25,4,29,2,"webEventHandlersRef"],[26,2,30,0],[26,3,30,1],[26,5,30,3],[27,4,31,2,"gestureConfig"],[27,17,31,15],[27,18,31,16,"initialize"],[27,28,31,26],[27,29,31,27],[27,30,31,28],[27,31,31,29],[27,32,31,30],[28,4,32,2],[30,4,34,2],[30,5,34,3],[30,6,34,4],[30,8,34,6,"_ghQueueMicrotask"],[30,25,34,23],[30,26,34,24,"ghQueueMicrotask"],[30,42,34,40],[30,44,34,42],[30,50,34,48],[31,6,35,4],[31,10,35,8],[31,11,35,9,"preparedGesture"],[31,26,35,24],[31,27,35,25,"isMounted"],[31,36,35,34],[31,38,35,36],[32,8,36,6],[33,6,37,4],[34,6,39,4,"gestureConfig"],[34,19,39,17],[34,20,39,18,"prepare"],[34,27,39,25],[34,28,39,26],[34,29,39,27],[35,4,40,2],[35,5,40,3],[35,6,40,4],[36,4,42,2],[36,9,42,7],[36,15,42,13,"handler"],[36,22,42,20],[36,26,42,24,"gesturesToAttach"],[36,42,42,40],[36,44,42,42],[37,6,43,4],[37,7,43,5],[37,8,43,6],[37,10,43,8,"_utils2"],[37,17,43,15],[37,18,43,16,"checkGestureCallbacksForWorklets"],[37,50,43,48],[37,52,43,50,"handler"],[37,59,43,57],[37,60,43,58],[38,6,45,4,"_RNGestureHandlerModule"],[38,29,45,27],[38,30,45,28,"default"],[38,37,45,35],[38,38,45,36,"createGestureHandler"],[38,58,45,56],[38,59,45,57,"handler"],[38,66,45,64],[38,67,45,65,"handlerName"],[38,78,45,76],[38,80,45,78,"handler"],[38,87,45,85],[38,88,45,86,"handlerTag"],[38,98,45,96],[38,100,45,98],[38,101,45,99],[38,102,45,100],[38,104,45,102,"_utils"],[38,110,45,108],[38,111,45,109,"filterConfig"],[38,123,45,121],[38,125,45,123,"handler"],[38,132,45,130],[38,133,45,131,"config"],[38,139,45,137],[38,141,45,139,"_utils2"],[38,148,45,146],[38,149,45,147,"ALLOWED_PROPS"],[38,162,45,160],[38,163,45,161],[38,164,45,162],[39,6,47,4],[39,7,47,5],[39,8,47,6],[39,10,47,8,"_handlersRegistry"],[39,27,47,25],[39,28,47,26,"registerHandler"],[39,43,47,41],[39,45,47,43,"handler"],[39,52,47,50],[39,53,47,51,"handlerTag"],[39,63,47,61],[39,65,47,63,"handler"],[39,72,47,70],[39,74,47,72,"handler"],[39,81,47,79],[39,82,47,80,"config"],[39,88,47,86],[39,89,47,87,"testId"],[39,95,47,93],[39,96,47,94],[40,4,48,2],[40,5,48,3],[40,6,48,4],[41,4,49,2],[43,4,52,2],[43,5,52,3],[43,6,52,4],[43,8,52,6,"_ghQueueMicrotask"],[43,25,52,23],[43,26,52,24,"ghQueueMicrotask"],[43,42,52,40],[43,44,52,42],[43,50,52,48],[44,6,53,4],[44,10,53,8],[44,11,53,9,"preparedGesture"],[44,26,53,24],[44,27,53,25,"isMounted"],[44,36,53,34],[44,38,53,36],[45,8,54,6],[46,6,55,4],[47,6,57,4],[47,11,57,9],[47,17,57,15,"handler"],[47,24,57,22],[47,28,57,26,"gesturesToAttach"],[47,44,57,42],[47,46,57,44],[48,8,58,6,"_RNGestureHandlerModule"],[48,31,58,29],[48,32,58,30,"default"],[48,39,58,37],[48,40,58,38,"updateGestureHandler"],[48,60,58,58],[48,61,58,59,"handler"],[48,68,58,66],[48,69,58,67,"handlerTag"],[48,79,58,77],[48,81,58,79],[48,82,58,80],[48,83,58,81],[48,85,58,83,"_utils"],[48,91,58,89],[48,92,58,90,"filterConfig"],[48,104,58,102],[48,106,58,104,"handler"],[48,113,58,111],[48,114,58,112,"config"],[48,120,58,118],[48,122,58,120,"_utils2"],[48,129,58,127],[48,130,58,128,"ALLOWED_PROPS"],[48,143,58,141],[48,145,58,143],[48,146,58,144],[48,147,58,145],[48,149,58,147,"_utils2"],[48,156,58,154],[48,157,58,155,"extractGestureRelations"],[48,180,58,178],[48,182,58,180,"handler"],[48,189,58,187],[48,190,58,188],[48,191,58,189],[48,192,58,190],[49,6,59,4],[50,6,61,4],[50,7,61,5],[50,8,61,6],[50,10,61,8,"_utils"],[50,16,61,14],[50,17,61,15,"scheduleFlushOperations"],[50,40,61,38],[50,42,61,40],[50,43,61,41],[51,4,62,2],[51,5,62,3],[51,6,62,4],[52,4,64,2],[52,9,64,7],[52,15,64,13,"gesture"],[52,22,64,20],[52,26,64,24,"gesturesToAttach"],[52,42,64,40],[52,44,64,42],[53,6,65,4],[53,12,65,10,"actionType"],[53,22,65,20],[53,25,65,23,"gesture"],[53,32,65,30],[53,33,65,31,"shouldUseReanimated"],[53,52,65,50],[53,55,65,53,"_ActionType"],[53,66,65,64],[53,67,65,65,"ActionType"],[53,77,65,75],[53,78,65,76,"REANIMATED_WORKLET"],[53,96,65,94],[53,99,65,97,"_ActionType"],[53,110,65,108],[53,111,65,109,"ActionType"],[53,121,65,119],[53,122,65,120,"JS_FUNCTION_NEW_API"],[53,141,65,139],[54,6,67,4],[54,10,67,8,"_reactNative"],[54,22,67,20],[54,23,67,21,"Platform"],[54,31,67,29],[54,32,67,30,"OS"],[54,34,67,32],[54,39,67,37],[54,44,67,42],[54,46,67,44],[55,8,68,6,"_RNGestureHandlerModule"],[55,31,68,29],[55,32,68,30,"default"],[55,39,68,37],[55,40,68,38,"attachGestureHandler"],[55,60,68,58],[55,61,68,59,"gesture"],[55,68,68,66],[55,69,68,67,"handlerTag"],[55,79,68,77],[55,81,68,79,"viewTag"],[55,88,68,86],[55,90,68,88,"_ActionType"],[55,101,68,99],[55,102,68,100,"ActionType"],[55,112,68,110],[55,113,68,111,"JS_FUNCTION_OLD_API"],[55,132,68,130],[56,8,68,132],[57,8,69,6,"webEventHandlersRef"],[57,27,69,25],[57,28,69,26],[58,6,70,4],[58,7,70,5],[58,13,70,11],[59,8,71,6,"_RNGestureHandlerModule"],[59,31,71,29],[59,32,71,30,"default"],[59,39,71,37],[59,40,71,38,"attachGestureHandler"],[59,60,71,58],[59,61,71,59,"gesture"],[59,68,71,66],[59,69,71,67,"handlerTag"],[59,79,71,77],[59,81,71,79,"viewTag"],[59,88,71,86],[59,90,71,88,"actionType"],[59,100,71,98],[59,101,71,99],[60,6,72,4],[61,4,73,2],[62,4,75,2,"preparedGesture"],[62,19,75,17],[62,20,75,18,"attachedGestures"],[62,36,75,34],[62,39,75,37,"gesturesToAttach"],[62,55,75,53],[63,4,77,2],[63,8,77,6,"preparedGesture"],[63,23,77,21],[63,24,77,22,"animatedHandlers"],[63,40,77,38],[63,42,77,40],[64,6,78,4],[64,12,78,10,"isAnimatedGesture"],[64,29,78,27],[64,32,78,30,"g"],[64,33,78,31],[64,37,78,35,"g"],[64,38,78,36],[64,39,78,37,"shouldUseReanimated"],[64,58,78,56],[65,6,80,4,"preparedGesture"],[65,21,80,19],[65,22,80,20,"animatedHandlers"],[65,38,80,36],[65,39,80,37,"value"],[65,44,80,42],[65,47,80,45,"gesturesToAttach"],[65,63,80,61],[65,64,80,62,"filter"],[65,70,80,68],[65,71,80,69,"isAnimatedGesture"],[65,88,80,86],[65,89,80,87],[65,90,80,88,"map"],[65,93,80,91],[65,94,80,92,"g"],[65,95,80,93],[65,99,80,97,"g"],[65,100,80,98],[65,101,80,99,"handlers"],[65,109,80,107],[65,110,80,108],[66,4,81,2],[67,2,82,0],[68,0,82,1],[68,3]],"functionMap":{"names":["<global>","_interopRequireDefault","attachHandlers","<anonymous>","isAnimatedGesture","gesturesToAttach.filter.map$argument_0"],"mappings":"AAA;ACqB,+FD;AEE;0CCU;GDM;0CCY;GDU;8BEgB,0BF;4FGE,eH;CFE"},"hasCjsExports":true},"type":"js/module"}]}