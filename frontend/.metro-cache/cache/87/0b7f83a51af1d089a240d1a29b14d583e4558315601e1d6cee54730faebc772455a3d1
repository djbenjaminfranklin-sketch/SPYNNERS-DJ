{"dependencies":[{"name":"../../../utils","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":8,"column":13,"index":141},"end":{"line":8,"column":38,"index":166}}],"key":"x1Vm2Nv1VpiRcEgyfVIlYEhsRJs=","exportNames":["*"],"imports":1}},{"name":"../../../getShadowNodeFromRef","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":10,"column":28,"index":197},"end":{"line":10,"column":68,"index":237}}],"key":"ea0WLkMaU0ZnRLlpV9Qt0HLqCKs=","exportNames":["*"],"imports":1}},{"name":"react","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":12,"column":13,"index":253},"end":{"line":12,"column":29,"index":269}}],"key":"XN65eZP/QkNMzaBAXbG/zPyidpY=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/index","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"55efhPHw3gz2FoQtoN2yI1VuhbM=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.useViewRefHandler = useViewRefHandler;\n  var _utils = require(_dependencyMap[0], \"../../../utils\");\n  var _getShadowNodeFromRef = require(_dependencyMap[1], \"../../../getShadowNodeFromRef\");\n  var _react = require(_dependencyMap[2], \"react\");\n  var _reactNative = require(_dependencyMap[3], \"react-native-web/dist/index\"); // Ref handler for the Wrap component attached under the GestureDetector.\n  // It's responsible for setting the viewRef on the state and triggering the reattaching of handlers\n  // if the view has changed.\n  function useViewRefHandler(state, updateAttachedGestures) {\n    const refHandler = (0, _react.useCallback)(ref => {\n      if (ref === null) {\n        return;\n      }\n      state.viewRef = ref; // if it's the first render, also set the previousViewTag to prevent reattaching gestures when not needed\n\n      if (state.previousViewTag === -1) {\n        state.previousViewTag = (0, _reactNative.findNodeHandle)(state.viewRef);\n      } // Pass true as `skipConfigUpdate`. Here we only want to trigger the eventual reattaching of handlers\n      // in case the view has changed. If the view doesn't change, the update will be handled by detector.\n\n      if (!state.firstRender) {\n        updateAttachedGestures(true);\n      }\n      if (__DEV__ && (0, _utils.isFabric)() && global.isFormsStackingContext) {\n        const node = (0, _getShadowNodeFromRef.getShadowNodeFromRef)(ref);\n        if (global.isFormsStackingContext(node) === false) {\n          console.error((0, _utils.tagMessage)('GestureDetector has received a child that may get view-flattened. ' + '\\nTo prevent it from misbehaving you need to wrap the child with a `<View collapsable={false}>`.'));\n        }\n      }\n    }, [state, updateAttachedGestures]);\n    return refHandler;\n  }\n});","lineCount":38,"map":[[2,2,1,0],[2,14,1,12],[4,2,3,0,"Object"],[4,8,3,6],[4,9,3,7,"defineProperty"],[4,23,3,21],[4,24,3,22,"exports"],[4,31,3,29],[4,33,3,31],[4,45,3,43],[4,47,3,45],[5,4,4,2,"value"],[5,9,4,7],[5,11,4,9],[6,2,5,0],[6,3,5,1],[6,4,5,2],[7,2,6,0,"exports"],[7,9,6,7],[7,10,6,8,"useViewRefHandler"],[7,27,6,25],[7,30,6,28,"useViewRefHandler"],[7,47,6,45],[8,2,8,0],[8,6,8,4,"_utils"],[8,12,8,10],[8,15,8,13,"require"],[8,22,8,20],[8,23,8,20,"_dependencyMap"],[8,37,8,20],[8,58,8,37],[8,59,8,38],[9,2,10,0],[9,6,10,4,"_getShadowNodeFromRef"],[9,27,10,25],[9,30,10,28,"require"],[9,37,10,35],[9,38,10,35,"_dependencyMap"],[9,52,10,35],[9,88,10,67],[9,89,10,68],[10,2,12,0],[10,6,12,4,"_react"],[10,12,12,10],[10,15,12,13,"require"],[10,22,12,20],[10,23,12,20,"_dependencyMap"],[10,37,12,20],[10,49,12,28],[10,50,12,29],[11,2,12,30],[11,6,12,30,"_reactNative"],[11,18,12,30],[11,21,12,30,"require"],[11,28,12,30],[11,29,12,30,"_dependencyMap"],[11,43,12,30],[11,80,16,0],[12,2,17,0],[13,2,18,0],[14,2,19,0],[14,11,19,9,"useViewRefHandler"],[14,28,19,26,"useViewRefHandler"],[14,29,19,27,"state"],[14,34,19,32],[14,36,19,34,"updateAttachedGestures"],[14,58,19,56],[14,60,19,58],[15,4,20,2],[15,10,20,8,"refHandler"],[15,20,20,18],[15,23,20,21],[15,24,20,22],[15,25,20,23],[15,27,20,25,"_react"],[15,33,20,31],[15,34,20,32,"useCallback"],[15,45,20,43],[15,47,20,45,"ref"],[15,50,20,48],[15,54,20,52],[16,6,21,4],[16,10,21,8,"ref"],[16,13,21,11],[16,18,21,16],[16,22,21,20],[16,24,21,22],[17,8,22,6],[18,6,23,4],[19,6,25,4,"state"],[19,11,25,9],[19,12,25,10,"viewRef"],[19,19,25,17],[19,22,25,20,"ref"],[19,25,25,23],[19,26,25,24],[19,27,25,25],[21,6,27,4],[21,10,27,8,"state"],[21,15,27,13],[21,16,27,14,"previousViewTag"],[21,31,27,29],[21,36,27,34],[21,37,27,35],[21,38,27,36],[21,40,27,38],[22,8,28,6,"state"],[22,13,28,11],[22,14,28,12,"previousViewTag"],[22,29,28,27],[22,32,28,30],[22,33,28,31],[22,34,28,32],[22,36,28,34,"_reactNative"],[22,48,28,46],[22,49,28,47,"findNodeHandle"],[22,63,28,61],[22,65,28,63,"state"],[22,70,28,68],[22,71,28,69,"viewRef"],[22,78,28,76],[22,79,28,77],[23,6,29,4],[23,7,29,5],[23,8,29,6],[24,6,30,4],[26,6,33,4],[26,10,33,8],[26,11,33,9,"state"],[26,16,33,14],[26,17,33,15,"firstRender"],[26,28,33,26],[26,30,33,28],[27,8,34,6,"updateAttachedGestures"],[27,30,34,28],[27,31,34,29],[27,35,34,33],[27,36,34,34],[28,6,35,4],[29,6,37,4],[29,10,37,8,"__DEV__"],[29,17,37,15],[29,21,37,19],[29,22,37,20],[29,23,37,21],[29,25,37,23,"_utils"],[29,31,37,29],[29,32,37,30,"isFabric"],[29,40,37,38],[29,42,37,40],[29,43,37,41],[29,47,37,45,"global"],[29,53,37,51],[29,54,37,52,"isFormsStackingContext"],[29,76,37,74],[29,78,37,76],[30,8,38,6],[30,14,38,12,"node"],[30,18,38,16],[30,21,38,19],[30,22,38,20],[30,23,38,21],[30,25,38,23,"_getShadowNodeFromRef"],[30,46,38,44],[30,47,38,45,"getShadowNodeFromRef"],[30,67,38,65],[30,69,38,67,"ref"],[30,72,38,70],[30,73,38,71],[31,8,40,6],[31,12,40,10,"global"],[31,18,40,16],[31,19,40,17,"isFormsStackingContext"],[31,41,40,39],[31,42,40,40,"node"],[31,46,40,44],[31,47,40,45],[31,52,40,50],[31,57,40,55],[31,59,40,57],[32,10,41,8,"console"],[32,17,41,15],[32,18,41,16,"error"],[32,23,41,21],[32,24,41,22],[32,25,41,23],[32,26,41,24],[32,28,41,26,"_utils"],[32,34,41,32],[32,35,41,33,"tagMessage"],[32,45,41,43],[32,47,41,45],[32,115,41,113],[32,118,41,116],[32,216,41,214],[32,217,41,215],[32,218,41,216],[33,8,42,6],[34,6,43,4],[35,4,44,2],[35,5,44,3],[35,7,44,5],[35,8,44,6,"state"],[35,13,44,11],[35,15,44,13,"updateAttachedGestures"],[35,37,44,35],[35,38,44,36],[35,39,44,37],[36,4,45,2],[36,11,45,9,"refHandler"],[36,21,45,19],[37,2,46,0],[38,0,46,1],[38,3]],"functionMap":{"names":["<global>","useViewRefHandler","<anonymous>"],"mappings":"AAA;ACkB;6CCC;GDwB;CDE"},"hasCjsExports":true},"type":"js/module"}]}