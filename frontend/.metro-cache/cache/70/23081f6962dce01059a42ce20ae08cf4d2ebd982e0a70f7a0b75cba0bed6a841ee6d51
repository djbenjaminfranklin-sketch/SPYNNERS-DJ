{"dependencies":[],"output":[{"data":{"code":"__d(function(g,r,i,a,m,_e,d){\"use strict\";Object.defineProperty(_e,'__esModule',{value:!0}),_e.createAuthModule=function(e,o,t,s){return{me:async()=>e.get(`/apps/${t}/entities/User/me`),updateMe:async o=>e.put(`/apps/${t}/entities/User/me`,o),redirectToLogin(e){var o;if(\"undefined\"==typeof window)throw new Error(\"Login method can only be used in a browser environment\");const t=e?new URL(e,window.location.origin).toString():window.location.href,n=`${null!==(o=s.appBaseUrl)&&void 0!==o?o:\"\"}/login?from_url=${encodeURIComponent(t)}`;window.location.href=n},logout(o){if(delete e.defaults.headers.common.Authorization,\"undefined\"!=typeof window&&window.localStorage)try{window.localStorage.removeItem(\"base44_access_token\"),window.localStorage.removeItem(\"token\")}catch(e){console.error(\"Failed to remove token from localStorage:\",e)}\"undefined\"!=typeof window&&(o?window.location.href=o:window.location.reload())},setToken(t,s=!0){if(t&&(e.defaults.headers.common.Authorization=`Bearer ${t}`,o.defaults.headers.common.Authorization=`Bearer ${t}`,s&&\"undefined\"!=typeof window&&window.localStorage))try{window.localStorage.setItem(\"base44_access_token\",t),window.localStorage.setItem(\"token\",t)}catch(e){console.error(\"Failed to save token to localStorage:\",e)}},async loginViaEmailPassword(o,s,n){var w;try{const w=await e.post(`/apps/${t}/auth/login`,{email:o,password:s,...n&&{turnstile_token:n}}),{access_token:c,user:l}=w;return c&&this.setToken(c),{access_token:c,user:l}}catch(e){throw 401===(null===(w=e.response)||void 0===w?void 0:w.status)&&await this.logout(),e}},async isAuthenticated(){try{return await this.me(),!0}catch(e){return!1}},inviteUser:(o,s)=>e.post(`/apps/${t}/users/invite-user`,{user_email:o,role:s}),register:o=>e.post(`/apps/${t}/auth/register`,o),verifyOtp:({email:o,otpCode:s})=>e.post(`/apps/${t}/auth/verify-otp`,{email:o,otp_code:s}),resendOtp:o=>e.post(`/apps/${t}/auth/resend-otp`,{email:o}),resetPasswordRequest:o=>e.post(`/apps/${t}/auth/reset-password-request`,{email:o}),resetPassword:({resetToken:o,newPassword:s})=>e.post(`/apps/${t}/auth/reset-password`,{reset_token:o,new_password:s}),changePassword:({userId:o,currentPassword:s,newPassword:n})=>e.post(`/apps/${t}/auth/change-password`,{user_id:o,current_password:s,new_password:n})}}});","lineCount":1,"map":[[1,92,11,0,"_e"],[1,95,11,0,"createAuthModule"],[1,112,11,7],[1,121,11,33,"axios"],[1,123,11,40,"functionsAxiosClient"],[1,125,11,62,"appId"],[1,127,11,69,"options"],[1,130,12,4],[1,136,12,11],[1,137,14,8,"async"],[1,140,14,16,"me"],[1,149,15,19,"axios"],[1,151,15,25,"get"],[1,155,15,29],[1,164,15,38,"appId"],[1,186,18,8,"async"],[1,195,18,22,"updateMe"],[1,201,18,23,"data"],[1,204,19,19,"axios"],[1,206,19,25,"put"],[1,210,19,29],[1,219,19,38,"appId"],[1,240,19,64,"data"],[1,243,22,8,"redirectToLogin"],[1,259,22,24,"nextUrl"],[1,262,23,12],[1,266,23,16,"_a"],[1,268,25,12],[1,271,25,34],[1,291,25,23,"window"],[1,298,26,16],[1,304,26,22],[1,308,26,26,"Error"],[1,314,26,32],[1,372,29,12],[1,378,29,18,"redirectUrl"],[1,380,29,32,"nextUrl"],[1,382,30,18],[1,386,30,22,"URL"],[1,390,30,26,"nextUrl"],[1,392,30,35,"window"],[1,399,30,42,"location"],[1,408,30,51,"origin"],[1,416,30,59,"toString"],[1,427,31,18,"window"],[1,434,31,25,"location"],[1,443,31,34,"href"],[1,448,33,18,"loginUrl"],[1,450,33,29],[1,453,33,62],[1,461,33,33,"_a"],[1,463,33,38,"options"],[1,465,33,46,"appBaseUrl"],[1,483,33,72,"undefined"],[1,487,33,70,"_a"],[1,489,33,86,"_a"],[1,491,33,91],[1,512,33,112,"encodeURIComponent"],[1,531,33,131,"redirectUrl"],[1,536,35,12,"window"],[1,543,35,19,"location"],[1,552,35,28,"href"],[1,557,35,35,"loginUrl"],[1,558,36,8],[1,560,39,8,"logout"],[1,567,39,15,"redirectUrl"],[1,570,43,12],[1,580,41,19,"axios"],[1,582,41,25,"defaults"],[1,591,41,34,"headers"],[1,599,41,42,"common"],[1,606,41,64],[1,620,43,34],[1,640,43,23,"window"],[1,648,43,49,"window"],[1,655,43,56,"localStorage"],[1,668,44,16],[1,672,45,20,"window"],[1,679,45,27,"localStorage"],[1,692,45,40,"removeItem"],[1,703,45,51],[1,726,47,20,"window"],[1,733,47,27,"localStorage"],[1,746,47,40,"removeItem"],[1,757,47,51],[1,765,48,16],[1,766,49,16],[1,772,49,23,"e"],[1,775,50,20,"console"],[1,783,50,28,"error"],[1,789,50,34],[1,833,50,79,"e"],[1,835,51,16],[1,836,54,34],[1,856,54,23,"window"],[1,865,55,20,"redirectUrl"],[1,867,56,20,"window"],[1,874,56,27,"location"],[1,883,56,36,"href"],[1,888,56,43,"redirectUrl"],[1,890,59,20,"window"],[1,897,59,27,"location"],[1,906,59,36,"reload"],[1,915,62,8],[1,917,64,8,"setToken"],[1,926,64,17,"token"],[1,928,64,24,"saveToStorage"],[1,931,64,40],[1,934,65,12],[1,937,65,17,"token"],[1,941,68,12,"axios"],[1,943,68,18,"defaults"],[1,952,68,27,"headers"],[1,960,68,35,"common"],[1,967,68,57],[1,981,68,61],[1,991,68,71,"token"],[1,995,69,12,"functionsAxiosClient"],[1,997,69,33,"defaults"],[1,1006,69,42,"headers"],[1,1014,69,50,"common"],[1,1021,69,72],[1,1035,69,76],[1,1045,69,86,"token"],[1,1049,71,16,"saveToStorage"],[1,1052,72,34],[1,1072,72,23,"window"],[1,1080,73,16,"window"],[1,1087,73,23,"localStorage"],[1,1101,74,16],[1,1105,75,20,"window"],[1,1112,75,27,"localStorage"],[1,1125,75,40,"setItem"],[1,1133,75,48],[1,1155,75,71,"token"],[1,1158,77,20,"window"],[1,1165,77,27,"localStorage"],[1,1178,77,40,"setItem"],[1,1186,77,48],[1,1194,77,57,"token"],[1,1196,78,16],[1,1197,79,16],[1,1203,79,23,"e"],[1,1206,80,20,"console"],[1,1214,80,28,"error"],[1,1220,80,34],[1,1260,80,75,"e"],[1,1262,81,16],[1,1263,83,8],[1,1265,85,8],[1,1292,85,14,"loginViaEmailPassword"],[1,1293,85,36,"email"],[1,1295,85,43,"password"],[1,1297,85,53,"turnstileToken"],[1,1300,86,12],[1,1304,86,16,"_a"],[1,1306,87,12],[1,1310,88,16],[1,1316,88,22,"response"],[1,1324,88,39,"axios"],[1,1326,88,45,"post"],[1,1331,88,50],[1,1340,88,59,"appId"],[1,1355,88,79],[1,1356,89,20,"email"],[1,1364,90,20,"password"],[1,1378,91,24,"turnstileToken"],[1,1381,91,42],[1,1382,91,44,"turnstile_token"],[1,1398,91,61,"turnstileToken"],[1,1404,93,22,"access_token"],[1,1417,93,24,"access_token"],[1,1419,93,36,"user"],[1,1424,93,38,"user"],[1,1427,93,47,"response"],[1,1429,97,16],[1,1436,94,20,"access_token"],[1,1439,95,20,"this"],[1,1444,95,25,"setToken"],[1,1453,95,34,"access_token"],[1,1456,97,23],[1,1457,98,20,"access_token"],[1,1472,99,20,"user"],[1,1479,101,12],[1,1480,102,12],[1,1486,102,19,"error"],[1,1489,107,16],[1,1495,104,95],[1,1502,104,47],[1,1510,104,22,"_a"],[1,1512,104,27,"error"],[1,1514,104,33,"response"],[1,1530,104,57,"undefined"],[1,1534,104,55,"_a"],[1,1541,104,68,"undefined"],[1,1543,104,80,"_a"],[1,1545,104,83,"status"],[1,1560,105,26,"this"],[1,1565,105,31,"logout"],[1,1574,107,22,"error"],[1,1575,108,12],[1,1576,109,8],[1,1578,111,8],[1,1599,111,14,"isAuthenticated"],[1,1602,112,12],[1,1606,114,16],[1,1619,113,22,"this"],[1,1624,113,27,"me"],[1,1630,114,23],[1,1631,115,12],[1,1632,116,12],[1,1638,116,19,"error"],[1,1641,117,16],[1,1648,117,23],[1,1649,118,12],[1,1650,119,8],[1,1652,121,8,"inviteUser"],[1,1663,121,18,"inviteUser"],[1,1664,121,19,"userEmail"],[1,1666,121,30,"role"],[1,1670,122,19,"axios"],[1,1672,122,25,"post"],[1,1677,122,30],[1,1686,122,39,"appId"],[1,1708,122,66],[1,1709,123,16,"user_email"],[1,1720,123,28,"userEmail"],[1,1722,124,16,"role"],[1,1731,128,8,"register"],[1,1740,128,17,"payload"],[1,1743,129,19,"axios"],[1,1745,129,25,"post"],[1,1750,129,30],[1,1759,129,39,"appId"],[1,1777,129,62,"payload"],[1,1780,132,8,"verifyOtp"],[1,1790,132,17,"verifyOtp"],[1,1792,132,18,"email"],[1,1798,132,20,"email"],[1,1800,132,25,"otpCode"],[1,1808,132,27,"otpCode"],[1,1813,133,19,"axios"],[1,1815,133,25,"post"],[1,1820,133,30],[1,1829,133,39,"appId"],[1,1849,133,64],[1,1850,134,16,"email"],[1,1858,135,16,"otp_code"],[1,1867,135,26,"otpCode"],[1,1871,139,8,"resendOtp"],[1,1881,139,18,"email"],[1,1884,140,19,"axios"],[1,1886,140,25,"post"],[1,1891,140,30],[1,1900,140,39,"appId"],[1,1920,140,64],[1,1921,140,66,"email"],[1,1931,143,8,"resetPasswordRequest"],[1,1952,143,29,"email"],[1,1955,144,19,"axios"],[1,1957,144,25,"post"],[1,1962,144,30],[1,1971,144,39,"appId"],[1,2003,144,76],[1,2004,145,16,"email"],[1,2014,149,8,"resetPassword"],[1,2028,149,21,"resetPassword"],[1,2030,149,22,"resetToken"],[1,2041,149,24,"resetToken"],[1,2043,149,34,"newPassword"],[1,2055,149,36,"newPassword"],[1,2060,150,19,"axios"],[1,2062,150,25,"post"],[1,2067,150,30],[1,2076,150,39,"appId"],[1,2100,150,68],[1,2101,151,16,"reset_token"],[1,2113,151,29,"resetToken"],[1,2115,152,16,"new_password"],[1,2128,152,30,"newPassword"],[1,2132,156,8,"changePassword"],[1,2147,156,22,"changePassword"],[1,2149,156,23,"userId"],[1,2156,156,25,"userId"],[1,2158,156,31,"currentPassword"],[1,2174,156,33,"currentPassword"],[1,2176,156,48,"newPassword"],[1,2188,156,50,"newPassword"],[1,2193,157,19,"axios"],[1,2195,157,25,"post"],[1,2200,157,30],[1,2209,157,39,"appId"],[1,2234,157,69],[1,2235,158,16,"user_id"],[1,2243,158,25,"userId"],[1,2245,159,16,"current_password"],[1,2262,159,34,"currentPassword"],[1,2264,160,16,"new_password"],[1,2277,160,30,"newPassword"],[1,2281,164,0],[1,2282,164,1],[1,2285]],"functionMap":{"names":["<global>","createAuthModule","me","updateMe","redirectToLogin","logout","setToken","loginViaEmailPassword","isAuthenticated","inviteUser","register","verifyOtp","resendOtp","resetPasswordRequest","resetPassword","changePassword"],"mappings":"AAA;OCU;QCG;SDE;QEE;SFE;QGE;SHc;QIG;SJuB;QKE;SLmB;QME;SNwB;QOE;SPQ;QQE;SRK;QSE;STE;QUE;SVK;QWE;SXE;QYE;SZI;QaE;SbK;QcE;SdM;CDE"},"hasCjsExports":false},"type":"js/module"}]}