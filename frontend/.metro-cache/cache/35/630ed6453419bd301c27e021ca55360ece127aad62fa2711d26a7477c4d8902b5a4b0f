{"dependencies":[{"name":"@base44/sdk","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":6,"column":0,"index":94},"end":{"line":6,"column":43,"index":137}}],"key":"wNgBXndTdvG5ox+7I3iZcRCWnC0=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":7,"column":0,"index":138},"end":{"line":7,"column":69,"index":207}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return _default;\n    }\n  });\n  Object.defineProperty(exports, \"getBase44Client\", {\n    enumerable: true,\n    get: function () {\n      return getBase44Client;\n    }\n  });\n  Object.defineProperty(exports, \"getBase44ClientSync\", {\n    enumerable: true,\n    get: function () {\n      return getBase44ClientSync;\n    }\n  });\n  Object.defineProperty(exports, \"invokeBase44Function\", {\n    enumerable: true,\n    get: function () {\n      return invokeBase44Function;\n    }\n  });\n  Object.defineProperty(exports, \"base44Client\", {\n    enumerable: true,\n    get: function () {\n      return base44Client;\n    }\n  });\n  var _base44Sdk = require(_dependencyMap[0], \"@base44/sdk\");\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[1], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  /**\n   * Base44 SDK Client for SPYNNERS\n   * Used for direct SDK calls like functions.invoke\n   */\n\n  // Base44 App ID for SPYNNERS\n  const BASE44_APP_ID = '691a4d96d819355b52c063f3';\n\n  // Storage key for auth token\n  const AUTH_TOKEN_KEY = 'auth_token';\n\n  // Get stored token\n  const getStoredToken = async () => {\n    try {\n      const token = await AsyncStorage.default.getItem(AUTH_TOKEN_KEY);\n      return token || undefined;\n    } catch (e) {\n      console.error('[Base44Client] Error getting stored token:', e);\n      return undefined;\n    }\n  };\n\n  // Create Base44 client (will be initialized with token when available)\n  let base44Client = null;\n\n  // Initialize or get the Base44 client\n  const getBase44Client = async () => {\n    const token = await getStoredToken();\n\n    // Always create a fresh client with current token\n    base44Client = (0, _base44Sdk.createClient)({\n      appId: BASE44_APP_ID,\n      token: token,\n      autoInitAuth: false\n    });\n    return base44Client;\n  };\n\n  // Get client synchronously (may not have token)\n  const getBase44ClientSync = () => {\n    if (!base44Client) {\n      base44Client = (0, _base44Sdk.createClient)({\n        appId: BASE44_APP_ID,\n        autoInitAuth: false\n      });\n    }\n    return base44Client;\n  };\n\n  // Wrapper for functions.invoke\n  const invokeBase44Function = async (functionName, params = {}) => {\n    try {\n      const client = await getBase44Client();\n      console.log(`[Base44Client] Invoking function: ${functionName}`, params);\n\n      // The SDK provides functions.invoke method\n      const result = await client.functions.invoke(functionName, params);\n      console.log(`[Base44Client] Function ${functionName} result:`, result);\n      return result;\n    } catch (error) {\n      console.error(`[Base44Client] Error invoking ${functionName}:`, error);\n      throw error;\n    }\n  };\n\n  // Export the base44 client getter\n\n  var _default = getBase44Client;\n});","lineCount":113,"map":[[12,2,76,0,"Object"],[12,8,76,0],[12,9,76,0,"defineProperty"],[12,23,76,0],[12,24,76,0,"exports"],[12,31,76,0],[13,4,76,0,"enumerable"],[13,14,76,0],[14,4,76,0,"get"],[14,7,76,0],[14,18,76,0,"get"],[14,19,76,0],[15,6,76,0],[15,13,76,0,"_default"],[15,21,76,0],[16,4,76,0],[17,2,76,0],[18,2,30,0,"Object"],[18,8,30,0],[18,9,30,0,"defineProperty"],[18,23,30,0],[18,24,30,0,"exports"],[18,31,30,0],[19,4,30,0,"enumerable"],[19,14,30,0],[20,4,30,0,"get"],[20,7,30,0],[20,18,30,0,"get"],[20,19,30,0],[21,6,30,0],[21,13,30,0,"getBase44Client"],[21,28,30,0],[22,4,30,0],[23,2,30,0],[24,2,44,0,"Object"],[24,8,44,0],[24,9,44,0,"defineProperty"],[24,23,44,0],[24,24,44,0,"exports"],[24,31,44,0],[25,4,44,0,"enumerable"],[25,14,44,0],[26,4,44,0,"get"],[26,7,44,0],[26,18,44,0,"get"],[26,19,44,0],[27,6,44,0],[27,13,44,0,"getBase44ClientSync"],[27,32,44,0],[28,4,44,0],[29,2,44,0],[30,2,55,0,"Object"],[30,8,55,0],[30,9,55,0,"defineProperty"],[30,23,55,0],[30,24,55,0,"exports"],[30,31,55,0],[31,4,55,0,"enumerable"],[31,14,55,0],[32,4,55,0,"get"],[32,7,55,0],[32,18,55,0,"get"],[32,19,55,0],[33,6,55,0],[33,13,55,0,"invokeBase44Function"],[33,33,55,0],[34,4,55,0],[35,2,55,0],[36,2,75,0,"Object"],[36,8,75,0],[36,9,75,0,"defineProperty"],[36,23,75,0],[36,24,75,0,"exports"],[36,31,75,0],[37,4,75,0,"enumerable"],[37,14,75,0],[38,4,75,0,"get"],[38,7,75,0],[38,18,75,0,"get"],[38,19,75,0],[39,6,75,0],[39,13,75,9,"base44Client"],[39,25,75,21],[40,4,75,21],[41,2,75,21],[42,2,6,0],[42,6,6,0,"_base44Sdk"],[42,16,6,0],[42,19,6,0,"require"],[42,26,6,0],[42,27,6,0,"_dependencyMap"],[42,41,6,0],[43,2,7,0],[43,6,7,0,"_reactNativeAsyncStorageAsyncStorage"],[43,42,7,0],[43,45,7,0,"require"],[43,52,7,0],[43,53,7,0,"_dependencyMap"],[43,67,7,0],[44,2,7,0],[44,6,7,0,"AsyncStorage"],[44,18,7,0],[44,21,7,0,"_interopDefault"],[44,36,7,0],[44,37,7,0,"_reactNativeAsyncStorageAsyncStorage"],[44,73,7,0],[45,2,1,0],[46,0,2,0],[47,0,3,0],[48,0,4,0],[50,2,9,0],[51,2,10,0],[51,8,10,6,"BASE44_APP_ID"],[51,21,10,19],[51,24,10,22],[51,50,10,48],[53,2,12,0],[54,2,13,0],[54,8,13,6,"AUTH_TOKEN_KEY"],[54,22,13,20],[54,25,13,23],[54,37,13,35],[56,2,15,0],[57,2,16,0],[57,8,16,6,"getStoredToken"],[57,22,16,20],[57,25,16,23],[57,31,16,23,"getStoredToken"],[57,32,16,23],[57,37,16,64],[58,4,17,2],[58,8,17,6],[59,6,18,4],[59,12,18,10,"token"],[59,17,18,15],[59,20,18,18],[59,26,18,24,"AsyncStorage"],[59,38,18,36],[59,39,18,36,"default"],[59,46,18,36],[59,47,18,37,"getItem"],[59,54,18,44],[59,55,18,45,"AUTH_TOKEN_KEY"],[59,69,18,59],[59,70,18,60],[60,6,19,4],[60,13,19,11,"token"],[60,18,19,16],[60,22,19,20,"undefined"],[60,31,19,29],[61,4,20,2],[61,5,20,3],[61,6,20,4],[61,13,20,11,"e"],[61,14,20,12],[61,16,20,14],[62,6,21,4,"console"],[62,13,21,11],[62,14,21,12,"error"],[62,19,21,17],[62,20,21,18],[62,64,21,62],[62,66,21,64,"e"],[62,67,21,65],[62,68,21,66],[63,6,22,4],[63,13,22,11,"undefined"],[63,22,22,20],[64,4,23,2],[65,2,24,0],[65,3,24,1],[67,2,26,0],[68,2,27,0],[68,6,27,4,"base44Client"],[68,18,27,56],[68,21,27,59],[68,25,27,63],[70,2,29,0],[71,2,30,7],[71,8,30,13,"getBase44Client"],[71,23,30,28],[71,26,30,31],[71,32,30,31,"getBase44Client"],[71,33,30,31],[71,38,30,43],[72,4,31,2],[72,10,31,8,"token"],[72,15,31,13],[72,18,31,16],[72,24,31,22,"getStoredToken"],[72,38,31,36],[72,39,31,37],[72,40,31,38],[74,4,33,2],[75,4,34,2,"base44Client"],[75,16,34,14],[75,19,34,17],[75,23,34,17,"createClient"],[75,33,34,29],[75,34,34,29,"createClient"],[75,46,34,29],[75,48,34,30],[76,6,35,4,"appId"],[76,11,35,9],[76,13,35,11,"BASE44_APP_ID"],[76,26,35,24],[77,6,36,4,"token"],[77,11,36,9],[77,13,36,11,"token"],[77,18,36,16],[78,6,37,4,"autoInitAuth"],[78,18,37,16],[78,20,37,18],[79,4,38,2],[79,5,38,3],[79,6,38,4],[80,4,40,2],[80,11,40,9,"base44Client"],[80,23,40,21],[81,2,41,0],[81,3,41,1],[83,2,43,0],[84,2,44,7],[84,8,44,13,"getBase44ClientSync"],[84,27,44,32],[84,30,44,35,"getBase44ClientSync"],[84,31,44,35],[84,36,44,41],[85,4,45,2],[85,8,45,6],[85,9,45,7,"base44Client"],[85,21,45,19],[85,23,45,21],[86,6,46,4,"base44Client"],[86,18,46,16],[86,21,46,19],[86,25,46,19,"createClient"],[86,35,46,31],[86,36,46,31,"createClient"],[86,48,46,31],[86,50,46,32],[87,8,47,6,"appId"],[87,13,47,11],[87,15,47,13,"BASE44_APP_ID"],[87,28,47,26],[88,8,48,6,"autoInitAuth"],[88,20,48,18],[88,22,48,20],[89,6,49,4],[89,7,49,5],[89,8,49,6],[90,4,50,2],[91,4,51,2],[91,11,51,9,"base44Client"],[91,23,51,21],[92,2,52,0],[92,3,52,1],[94,2,54,0],[95,2,55,7],[95,8,55,13,"invokeBase44Function"],[95,28,55,33],[95,31,55,36],[95,37,55,36,"invokeBase44Function"],[95,38,56,2,"functionName"],[95,50,56,22],[95,52,57,2,"params"],[95,58,57,29],[95,61,57,32],[95,62,57,33],[95,63,57,34],[95,68,58,17],[96,4,59,2],[96,8,59,6],[97,6,60,4],[97,12,60,10,"client"],[97,18,60,16],[97,21,60,19],[97,27,60,25,"getBase44Client"],[97,42,60,40],[97,43,60,41],[97,44,60,42],[98,6,61,4,"console"],[98,13,61,11],[98,14,61,12,"log"],[98,17,61,15],[98,18,61,16],[98,55,61,53,"functionName"],[98,67,61,65],[98,69,61,67],[98,71,61,69,"params"],[98,77,61,75],[98,78,61,76],[100,6,63,4],[101,6,64,4],[101,12,64,10,"result"],[101,18,64,16],[101,21,64,19],[101,27,64,26,"client"],[101,33,64,32],[101,34,64,41,"functions"],[101,43,64,50],[101,44,64,51,"invoke"],[101,50,64,57],[101,51,64,58,"functionName"],[101,63,64,70],[101,65,64,72,"params"],[101,71,64,78],[101,72,64,79],[102,6,65,4,"console"],[102,13,65,11],[102,14,65,12,"log"],[102,17,65,15],[102,18,65,16],[102,45,65,43,"functionName"],[102,57,65,55],[102,67,65,65],[102,69,65,67,"result"],[102,75,65,73],[102,76,65,74],[103,6,67,4],[103,13,67,11,"result"],[103,19,67,17],[104,4,68,2],[104,5,68,3],[104,6,68,4],[104,13,68,11,"error"],[104,18,68,16],[104,20,68,18],[105,6,69,4,"console"],[105,13,69,11],[105,14,69,12,"error"],[105,19,69,17],[105,20,69,18],[105,53,69,51,"functionName"],[105,65,69,63],[105,68,69,66],[105,70,69,68,"error"],[105,75,69,73],[105,76,69,74],[106,6,70,4],[106,12,70,10,"error"],[106,17,70,15],[107,4,71,2],[108,2,72,0],[108,3,72,1],[110,2,74,0],[112,2,76,0],[112,6,76,0,"_default"],[112,14,76,0],[112,17,76,15,"getBase44Client"],[112,32,76,30],[113,0,76,31],[113,3]],"functionMap":{"names":["<global>","getStoredToken","getBase44Client","getBase44ClientSync","invokeBase44Function"],"mappings":"AAA;uBCe;CDQ;+BEM;CFW;mCGG;CHQ;oCIG;CJiB"},"hasCjsExports":false},"type":"js/module"}]}