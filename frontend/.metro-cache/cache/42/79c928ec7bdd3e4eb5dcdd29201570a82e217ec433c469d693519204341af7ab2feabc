{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":8,"column":13,"index":143},"end":{"line":8,"column":29,"index":159}}],"key":"XN65eZP/QkNMzaBAXbG/zPyidpY=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/index","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"55efhPHw3gz2FoQtoN2yI1VuhbM=","exportNames":["*"],"imports":1}},{"name":"./attachHandlers","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":12,"column":22,"index":229},"end":{"line":12,"column":49,"index":256}}],"key":"oeQTfrxJjWrqujOnmkexkfP2thU=","exportNames":["*"],"imports":1}},{"name":"./updateHandlers","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":14,"column":22,"index":281},"end":{"line":14,"column":49,"index":308}}],"key":"uYyZ77KwBF3ocB2CWB+S5Fh30eM=","exportNames":["*"],"imports":1}},{"name":"./needsToReattach","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":16,"column":23,"index":334},"end":{"line":16,"column":51,"index":362}}],"key":"uhh1Qd4kAot/H/F9XNve/I2Qlu0=","exportNames":["*"],"imports":1}},{"name":"./dropHandlers","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":18,"column":20,"index":385},"end":{"line":18,"column":45,"index":410}}],"key":"pc/an299aDD5JxGTf3pYOYBgHuw=","exportNames":["*"],"imports":1}},{"name":"./utils","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":20,"column":13,"index":426},"end":{"line":20,"column":31,"index":444}}],"key":"Arg6QRuIuy5D/jfcnxX1qJiHjX8=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.useDetectorUpdater = useDetectorUpdater;\n  var _react = require(_dependencyMap[0], \"react\");\n  var _reactNative = require(_dependencyMap[1], \"react-native-web/dist/index\");\n  var _attachHandlers = require(_dependencyMap[2], \"./attachHandlers\");\n  var _updateHandlers = require(_dependencyMap[3], \"./updateHandlers\");\n  var _needsToReattach = require(_dependencyMap[4], \"./needsToReattach\");\n  var _dropHandlers = require(_dependencyMap[5], \"./dropHandlers\");\n  var _utils = require(_dependencyMap[6], \"./utils\");\n\n  // Returns a function that's responsible for updating the attached gestures\n  // If the view has changed, it will reattach the handlers to the new view\n  // If the view remains the same, it will update the handlers with the new config\n  function useDetectorUpdater(state, preparedGesture, gesturesToAttach, gestureConfig, webEventHandlersRef) {\n    const forceRender = (0, _utils.useForceRender)();\n    const updateAttachedGestures = (0, _react.useCallback)(\n    // skipConfigUpdate is used to prevent unnecessary updates when only checking if the view has changed\n    skipConfigUpdate => {\n      // If the underlying view has changed we need to reattach handlers to the new view\n      const viewTag = (0, _reactNative.findNodeHandle)(state.viewRef);\n      const didUnderlyingViewChange = viewTag !== state.previousViewTag;\n      if (didUnderlyingViewChange || (0, _needsToReattach.needsToReattach)(preparedGesture, gesturesToAttach)) {\n        (0, _utils.validateDetectorChildren)(state.viewRef);\n        (0, _dropHandlers.dropHandlers)(preparedGesture);\n        (0, _attachHandlers.attachHandlers)({\n          preparedGesture,\n          gestureConfig,\n          gesturesToAttach,\n          webEventHandlersRef,\n          viewTag\n        });\n        if (didUnderlyingViewChange) {\n          state.previousViewTag = viewTag;\n          state.forceRebuildReanimatedEvent = true;\n          forceRender();\n        }\n      } else if (!skipConfigUpdate) {\n        (0, _updateHandlers.updateHandlers)(preparedGesture, gestureConfig, gesturesToAttach);\n      }\n    }, [forceRender, gestureConfig, gesturesToAttach, preparedGesture, state, webEventHandlersRef]);\n    return updateAttachedGestures;\n  }\n});","lineCount":48,"map":[[2,2,1,0],[2,14,1,12],[4,2,3,0,"Object"],[4,8,3,6],[4,9,3,7,"defineProperty"],[4,23,3,21],[4,24,3,22,"exports"],[4,31,3,29],[4,33,3,31],[4,45,3,43],[4,47,3,45],[5,4,4,2,"value"],[5,9,4,7],[5,11,4,9],[6,2,5,0],[6,3,5,1],[6,4,5,2],[7,2,6,0,"exports"],[7,9,6,7],[7,10,6,8,"useDetectorUpdater"],[7,28,6,26],[7,31,6,29,"useDetectorUpdater"],[7,49,6,47],[8,2,8,0],[8,6,8,4,"_react"],[8,12,8,10],[8,15,8,13,"require"],[8,22,8,20],[8,23,8,20,"_dependencyMap"],[8,37,8,20],[8,49,8,28],[8,50,8,29],[9,2,8,30],[9,6,8,30,"_reactNative"],[9,18,8,30],[9,21,8,30,"require"],[9,28,8,30],[9,29,8,30,"_dependencyMap"],[9,43,8,30],[10,2,12,0],[10,6,12,4,"_attachHandlers"],[10,21,12,19],[10,24,12,22,"require"],[10,31,12,29],[10,32,12,29,"_dependencyMap"],[10,46,12,29],[10,69,12,48],[10,70,12,49],[11,2,14,0],[11,6,14,4,"_updateHandlers"],[11,21,14,19],[11,24,14,22,"require"],[11,31,14,29],[11,32,14,29,"_dependencyMap"],[11,46,14,29],[11,69,14,48],[11,70,14,49],[12,2,16,0],[12,6,16,4,"_needsToReattach"],[12,22,16,20],[12,25,16,23,"require"],[12,32,16,30],[12,33,16,30,"_dependencyMap"],[12,47,16,30],[12,71,16,50],[12,72,16,51],[13,2,18,0],[13,6,18,4,"_dropHandlers"],[13,19,18,17],[13,22,18,20,"require"],[13,29,18,27],[13,30,18,27,"_dependencyMap"],[13,44,18,27],[13,65,18,44],[13,66,18,45],[14,2,20,0],[14,6,20,4,"_utils"],[14,12,20,10],[14,15,20,13,"require"],[14,22,20,20],[14,23,20,20,"_dependencyMap"],[14,37,20,20],[14,51,20,30],[14,52,20,31],[16,2,22,0],[17,2,23,0],[18,2,24,0],[19,2,25,0],[19,11,25,9,"useDetectorUpdater"],[19,29,25,27,"useDetectorUpdater"],[19,30,25,28,"state"],[19,35,25,33],[19,37,25,35,"preparedGesture"],[19,52,25,50],[19,54,25,52,"gesturesToAttach"],[19,70,25,68],[19,72,25,70,"gestureConfig"],[19,85,25,83],[19,87,25,85,"webEventHandlersRef"],[19,106,25,104],[19,108,25,106],[20,4,26,2],[20,10,26,8,"forceRender"],[20,21,26,19],[20,24,26,22],[20,25,26,23],[20,26,26,24],[20,28,26,26,"_utils"],[20,34,26,32],[20,35,26,33,"useForceRender"],[20,49,26,47],[20,51,26,49],[20,52,26,50],[21,4,27,2],[21,10,27,8,"updateAttachedGestures"],[21,32,27,30],[21,35,27,33],[21,36,27,34],[21,37,27,35],[21,39,27,37,"_react"],[21,45,27,43],[21,46,27,44,"useCallback"],[21,57,27,55],[22,4,27,58],[23,4,28,2,"skipConfigUpdate"],[23,20,28,18],[23,24,28,22],[24,6,29,4],[25,6,30,4],[25,12,30,10,"viewTag"],[25,19,30,17],[25,22,30,20],[25,23,30,21],[25,24,30,22],[25,26,30,24,"_reactNative"],[25,38,30,36],[25,39,30,37,"findNodeHandle"],[25,53,30,51],[25,55,30,53,"state"],[25,60,30,58],[25,61,30,59,"viewRef"],[25,68,30,66],[25,69,30,67],[26,6,31,4],[26,12,31,10,"didUnderlyingViewChange"],[26,35,31,33],[26,38,31,36,"viewTag"],[26,45,31,43],[26,50,31,48,"state"],[26,55,31,53],[26,56,31,54,"previousViewTag"],[26,71,31,69],[27,6,33,4],[27,10,33,8,"didUnderlyingViewChange"],[27,33,33,31],[27,37,33,35],[27,38,33,36],[27,39,33,37],[27,41,33,39,"_needsToReattach"],[27,57,33,55],[27,58,33,56,"needsToReattach"],[27,73,33,71],[27,75,33,73,"preparedGesture"],[27,90,33,88],[27,92,33,90,"gesturesToAttach"],[27,108,33,106],[27,109,33,107],[27,111,33,109],[28,8,34,6],[28,9,34,7],[28,10,34,8],[28,12,34,10,"_utils"],[28,18,34,16],[28,19,34,17,"validateDetectorChildren"],[28,43,34,41],[28,45,34,43,"state"],[28,50,34,48],[28,51,34,49,"viewRef"],[28,58,34,56],[28,59,34,57],[29,8,35,6],[29,9,35,7],[29,10,35,8],[29,12,35,10,"_dropHandlers"],[29,25,35,23],[29,26,35,24,"dropHandlers"],[29,38,35,36],[29,40,35,38,"preparedGesture"],[29,55,35,53],[29,56,35,54],[30,8,36,6],[30,9,36,7],[30,10,36,8],[30,12,36,10,"_attachHandlers"],[30,27,36,25],[30,28,36,26,"attachHandlers"],[30,42,36,40],[30,44,36,42],[31,10,37,8,"preparedGesture"],[31,25,37,23],[32,10,38,8,"gestureConfig"],[32,23,38,21],[33,10,39,8,"gesturesToAttach"],[33,26,39,24],[34,10,40,8,"webEventHandlersRef"],[34,29,40,27],[35,10,41,8,"viewTag"],[36,8,42,6],[36,9,42,7],[36,10,42,8],[37,8,44,6],[37,12,44,10,"didUnderlyingViewChange"],[37,35,44,33],[37,37,44,35],[38,10,45,8,"state"],[38,15,45,13],[38,16,45,14,"previousViewTag"],[38,31,45,29],[38,34,45,32,"viewTag"],[38,41,45,39],[39,10,46,8,"state"],[39,15,46,13],[39,16,46,14,"forceRebuildReanimatedEvent"],[39,43,46,41],[39,46,46,44],[39,50,46,48],[40,10,47,8,"forceRender"],[40,21,47,19],[40,22,47,20],[40,23,47,21],[41,8,48,6],[42,6,49,4],[42,7,49,5],[42,13,49,11],[42,17,49,15],[42,18,49,16,"skipConfigUpdate"],[42,34,49,32],[42,36,49,34],[43,8,50,6],[43,9,50,7],[43,10,50,8],[43,12,50,10,"_updateHandlers"],[43,27,50,25],[43,28,50,26,"updateHandlers"],[43,42,50,40],[43,44,50,42,"preparedGesture"],[43,59,50,57],[43,61,50,59,"gestureConfig"],[43,74,50,72],[43,76,50,74,"gesturesToAttach"],[43,92,50,90],[43,93,50,91],[44,6,51,4],[45,4,52,2],[45,5,52,3],[45,7,52,5],[45,8,52,6,"forceRender"],[45,19,52,17],[45,21,52,19,"gestureConfig"],[45,34,52,32],[45,36,52,34,"gesturesToAttach"],[45,52,52,50],[45,54,52,52,"preparedGesture"],[45,69,52,67],[45,71,52,69,"state"],[45,76,52,74],[45,78,52,76,"webEventHandlersRef"],[45,97,52,95],[45,98,52,96],[45,99,52,97],[46,4,53,2],[46,11,53,9,"updateAttachedGestures"],[46,33,53,31],[47,2,54,0],[48,0,54,1],[48,3]],"functionMap":{"names":["<global>","useDetectorUpdater","<anonymous>"],"mappings":"AAA;ACwB;ECG;GDwB;CDE"},"hasCjsExports":true},"type":"js/module"}]}