{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":86,"index":86}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"expo-av","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":87},"end":{"line":2,"column":32,"index":119}}],"key":"VxVG0TWBdB+Oc1qOQ32HKtN+H5M=","exportNames":["*"],"imports":1}},{"name":"react/jsx-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"3suYSPX9nHbHZ1xNTsKXtKj0atE=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function(g,r,i,a,m,e,d){\"use strict\";Object.defineProperty(e,'__esModule',{value:!0}),e.PlayerProvider=function({children:c}){const[l,u]=(0,t.useState)(null),[y,P]=(0,t.useState)(!1),[p,A]=(0,t.useState)(0),[f,h]=(0,t.useState)(0),[w,k]=(0,t.useState)(!1),v=(0,t.useRef)(null);(0,t.useEffect)(()=>()=>{v.current&&v.current.unloadAsync()},[]);const S=t=>{t.isLoaded&&(A(t.positionMillis||0),h(t.durationMillis||0),P(t.isPlaying),t.didJustFinish&&(P(!1),A(0)))};return(0,o.jsx)(s.Provider,{value:{currentTrack:l,isPlaying:y,playbackPosition:p,playbackDuration:f,isLoading:w,playTrack:async t=>{try{k(!0),v.current&&(await v.current.stopAsync(),await v.current.unloadAsync(),v.current=null);const o=t.audio_url||t.audio_file;if(!o)return console.warn('[Player] No audio URL for track:',t.title),void k(!1);await n.Audio.setAudioModeAsync({playsInSilentModeIOS:!0,staysActiveInBackground:!0,shouldDuckAndroid:!0});const{sound:s}=await n.Audio.Sound.createAsync({uri:o},{shouldPlay:!0,progressUpdateIntervalMillis:500},S);v.current=s,u(t),P(!0),A(0),console.log('[Player] Playing:',t.title)}catch(t){console.error('[Player] Error playing track:',t)}finally{k(!1)}},togglePlayPause:async()=>{if(v.current)try{y?await v.current.pauseAsync():await v.current.playAsync()}catch(t){console.error('[Player] Error toggling play/pause:',t)}},seekTo:async t=>{if(v.current&&0!==f)try{const n=Math.max(0,Math.min(t,f));console.log('[Player] Seeking to:',n,'ms'),await v.current.setPositionAsync(n),A(n)}catch(t){console.error('[Player] Error seeking:',t)}},closePlayer:async()=>{try{v.current&&(await v.current.stopAsync(),await v.current.unloadAsync(),v.current=null),u(null),P(!1),A(0),h(0)}catch(t){console.error('[Player] Error closing:',t)}}},children:c})},e.usePlayer=function(){const n=(0,t.useContext)(s);if(void 0===n)throw new Error('usePlayer must be used within a PlayerProvider');return n};var t=r(d[0]),n=r(d[1]),o=r(d[2]);const s=(0,t.createContext)(void 0)});","lineCount":1,"map":[[1,90,19,0,"e"],[1,92,19,0,"PlayerProvider"],[1,107,19,7],[1,117,19,31,"children"],[1,126,19,33,"children"],[1,130,20,2],[1,136,20,9,"currentTrack"],[1,138,20,23,"setCurrentTrack"],[1,142,20,42],[1,144,20,42,"useState"],[1,146,20,50,"useState"],[1,156,20,65],[1,163,21,9,"isPlaying"],[1,165,21,20,"setIsPlaying"],[1,169,21,36],[1,171,21,36,"useState"],[1,173,21,44,"useState"],[1,184,21,45],[1,188,22,9,"playbackPosition"],[1,190,22,27,"setPlaybackPosition"],[1,194,22,50],[1,196,22,50,"useState"],[1,198,22,58,"useState"],[1,208,22,59],[1,212,23,9,"playbackDuration"],[1,214,23,27,"setPlaybackDuration"],[1,218,23,50],[1,220,23,50,"useState"],[1,222,23,58,"useState"],[1,232,23,59],[1,236,24,9,"isLoading"],[1,238,24,20,"setIsLoading"],[1,242,24,36],[1,244,24,36,"useState"],[1,246,24,44,"useState"],[1,257,24,45],[1,260,25,8,"soundRef"],[1,263,25,19],[1,265,25,19,"useRef"],[1,267,25,25,"useRef"],[1,275,25,46],[1,282,28,2],[1,284,28,2,"useEffect"],[1,286,28,11,"useEffect"],[1,297,28,12],[1,301,29,11],[1,306,30,10,"soundRef"],[1,308,30,19,"current"],[1,317,31,8,"soundRef"],[1,319,31,17,"current"],[1,327,31,25,"unloadAsync"],[1,342,34,5],[1,346,36,2],[1,352,36,8,"onPlaybackStatusUpdate"],[1,354,36,34,"status"],[1,358,37,8,"status"],[1,360,37,15,"isLoaded"],[1,371,38,6,"setPlaybackPosition"],[1,373,38,26,"status"],[1,375,38,33,"positionMillis"],[1,391,38,51],[1,394,39,6,"setPlaybackDuration"],[1,396,39,26,"status"],[1,398,39,33,"durationMillis"],[1,414,39,51],[1,417,40,6,"setIsPlaying"],[1,419,40,19,"status"],[1,421,40,26,"isPlaying"],[1,432,42,10,"status"],[1,434,42,17,"didJustFinish"],[1,450,43,8,"setIsPlaying"],[1,453,43,21],[1,456,44,8,"setPlaybackPosition"],[1,458,44,28],[1,464,142,2],[1,471,143,4],[1,473,143,4,"_reactJsxRuntime"],[1,475,143,4,"jsx"],[1,480,143,5,"PlayerContext"],[1,482,143,19,"Provider"],[1,491,143,27],[1,492,144,6,"value"],[1,498,144,13],[1,499,145,8,"currentTrack"],[1,514,146,8,"isPlaying"],[1,526,147,8,"playbackPosition"],[1,545,148,8,"playbackDuration"],[1,564,149,8,"isLoading"],[1,576,150,8,"playTrack"],[1,586,49,20,"async"],[1,596,50,4],[1,600,51,6,"setIsLoading"],[1,603,51,19],[1,606,54,10,"soundRef"],[1,608,54,19,"current"],[1,624,55,14,"soundRef"],[1,626,55,23,"current"],[1,634,55,31,"stopAsync"],[1,652,56,14,"soundRef"],[1,654,56,23,"current"],[1,662,56,31,"unloadAsync"],[1,676,57,8,"soundRef"],[1,678,57,17,"current"],[1,686,57,27],[1,692,60,6],[1,698,60,12,"audioUrl"],[1,700,60,23,"track"],[1,702,60,29,"audio_url"],[1,713,60,42,"track"],[1,715,60,48,"audio_file"],[1,726,61,6],[1,730,61,11,"audioUrl"],[1,732,64,8],[1,739,62,8,"console"],[1,747,62,16,"warn"],[1,752,62,21],[1,787,62,57,"track"],[1,789,62,63,"title"],[1,801,63,8,"setIsLoading"],[1,804,63,21],[1,813,68,12,"Audio"],[1,815,68,17,"Audio"],[1,821,68,18,"setAudioModeAsync"],[1,839,68,36],[1,840,69,8,"playsInSilentModeIOS"],[1,862,69,30],[1,864,70,8,"staysActiveInBackground"],[1,889,70,33],[1,891,71,8,"shouldDuckAndroid"],[1,910,71,27],[1,914,75,6],[1,920,75,12,"sound"],[1,926,75,14,"sound"],[1,935,75,30,"Audio"],[1,937,75,35,"Audio"],[1,943,75,36,"Sound"],[1,949,75,42,"createAsync"],[1,961,76,8],[1,962,76,10,"uri"],[1,966,76,15,"audioUrl"],[1,969,77,8],[1,970,78,10,"shouldPlay"],[1,982,78,22],[1,984,79,10,"progressUpdateIntervalMillis"],[1,1013,79,40],[1,1018,81,8,"onPlaybackStatusUpdate"],[1,1021,84,6,"soundRef"],[1,1023,84,15,"current"],[1,1031,84,25,"sound"],[1,1033,85,6,"setCurrentTrack"],[1,1035,85,22,"track"],[1,1038,86,6,"setIsPlaying"],[1,1041,86,19],[1,1044,87,6,"setPlaybackPosition"],[1,1046,87,26],[1,1049,89,6,"console"],[1,1057,89,14,"log"],[1,1061,89,18],[1,1081,89,39,"track"],[1,1083,89,45,"title"],[1,1089,90,4],[1,1090,90,6],[1,1096,90,13,"error"],[1,1099,91,6,"console"],[1,1107,91,14,"error"],[1,1113,91,20],[1,1145,91,53,"error"],[1,1147,92,4],[1,1148,92,5],[1,1156,93,6,"setIsLoading"],[1,1159,93,19],[1,1161,94,4],[1,1164,151,8,"togglePlayPause"],[1,1180,97,26,"async"],[1,1190,98,4],[1,1193,98,9,"soundRef"],[1,1195,98,18,"current"],[1,1203,100,4],[1,1207,101,10,"isPlaying"],[1,1215,102,14,"soundRef"],[1,1217,102,23,"current"],[1,1225,102,31,"pauseAsync"],[1,1244,104,14,"soundRef"],[1,1246,104,23,"current"],[1,1254,104,31,"playAsync"],[1,1265,106,4],[1,1266,106,6],[1,1272,106,13,"error"],[1,1275,107,6,"console"],[1,1283,107,14,"error"],[1,1289,107,20],[1,1327,107,59,"error"],[1,1329,108,4],[1,1332,152,8,"seekTo"],[1,1339,111,17,"async"],[1,1349,112,4],[1,1352,112,9,"soundRef"],[1,1354,112,18,"current"],[1,1363,112,50],[1,1367,112,29,"playbackDuration"],[1,1369,114,4],[1,1373,116,6],[1,1379,116,12,"clampedPosition"],[1,1381,116,30,"Math"],[1,1386,116,35,"max"],[1,1390,116,39],[1,1392,116,42,"Math"],[1,1397,116,47,"min"],[1,1401,116,51,"positionMs"],[1,1403,116,63,"playbackDuration"],[1,1407,117,6,"console"],[1,1415,117,14,"log"],[1,1419,117,18],[1,1442,117,42,"clampedPosition"],[1,1444,117,59],[1,1456,119,12,"soundRef"],[1,1458,119,21,"current"],[1,1466,119,29,"setPositionAsync"],[1,1483,119,46,"clampedPosition"],[1,1486,120,6,"setPlaybackPosition"],[1,1488,120,26,"clampedPosition"],[1,1490,121,4],[1,1491,121,6],[1,1497,121,13,"error"],[1,1500,122,6,"console"],[1,1508,122,14,"error"],[1,1514,122,20],[1,1540,122,47,"error"],[1,1542,123,4],[1,1545,153,8,"closePlayer"],[1,1557,126,22,"async"],[1,1567,127,4],[1,1571,128,10,"soundRef"],[1,1573,128,19,"current"],[1,1589,129,14,"soundRef"],[1,1591,129,23,"current"],[1,1599,129,31,"stopAsync"],[1,1617,130,14,"soundRef"],[1,1619,130,23,"current"],[1,1627,130,31,"unloadAsync"],[1,1641,131,8,"soundRef"],[1,1643,131,17,"current"],[1,1651,131,27],[1,1657,133,6,"setCurrentTrack"],[1,1659,133,22],[1,1665,134,6,"setIsPlaying"],[1,1668,134,19],[1,1671,135,6,"setPlaybackPosition"],[1,1673,135,26],[1,1676,136,6,"setPlaybackDuration"],[1,1678,136,26],[1,1680,137,4],[1,1681,137,6],[1,1687,137,13,"error"],[1,1690,138,6,"console"],[1,1698,138,14,"error"],[1,1704,138,20],[1,1730,138,47,"error"],[1,1732,139,4],[1,1736,154,8,"children"],[1,1745,156,7,"children"],[1,1748,159,0],[1,1750,161,0,"e"],[1,1752,161,0,"usePlayer"],[1,1762,161,7],[1,1773,162,2],[1,1779,162,8,"context"],[1,1782,162,18],[1,1784,162,18,"useContext"],[1,1786,162,28,"useContext"],[1,1798,162,29,"PlayerContext"],[1,1801,163,2],[1,1809,163,18,"undefined"],[1,1813,163,6,"context"],[1,1815,164,4],[1,1821,164,10],[1,1825,164,14,"Error"],[1,1831,164,20],[1,1881,166,2],[1,1888,166,9,"context"],[1,1889,167,0],[1,1891,1,0],[1,1895,1,0,"_react"],[1,1897,1,0,"r"],[1,1899,1,0,"d"],[1,1901,1,0],[1,1905,2,0,"_expoAv"],[1,1907,2,0,"r"],[1,1909,2,0,"d"],[1,1911,2,0],[1,1915,2,32,"_reactJsxRuntime"],[1,1917,2,32,"r"],[1,1919,2,32,"d"],[1,1921,2,32],[1,1925,17,0],[1,1931,17,6,"PlayerContext"],[1,1934,17,22],[1,1936,17,22,"createContext"],[1,1938,17,35,"createContext"],[1,1958,17,67,"undefined"],[1,1960,167,1],[1,1963]],"functionMap":{"names":["<global>","PlayerProvider","useEffect$argument_0","<anonymous>","onPlaybackStatusUpdate","playTrack","togglePlayPause","seekTo","closePlayer","usePlayer"],"mappings":"AAA;OCkB;YCS;WCC;KDI;GDC;iCGE;GHW;oBIE;GJ8C;0BKE;GLY;iBME;GNa;sBOE;GPc;CDmB;OSE;CTM"},"hasCjsExports":false},"type":"js/module"}]}