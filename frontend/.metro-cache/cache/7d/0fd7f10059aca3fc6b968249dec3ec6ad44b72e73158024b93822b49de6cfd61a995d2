{"dependencies":[{"name":"expo-modules-core","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":65,"index":65}}],"key":"fU8WLIPqoAGygnPbZ/QJiQQfXEY=","exportNames":["*"],"imports":1}},{"name":"./PushTokenManager","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":66},"end":{"line":2,"column":50,"index":116}}],"key":"/U/z9wvFThAkR9FZ1qxFHdWzZ18=","exportNames":["*"],"imports":1}},{"name":"./warnOfExpoGoPushUsage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":117},"end":{"line":3,"column":64,"index":181}}],"key":"JoKHHQXXGY91wSaWh9AbqdpRHBQ=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  exports.addPushTokenListener = addPushTokenListener;\n  exports.removePushTokenSubscription = removePushTokenSubscription;\n  var _expoModulesCore = require(_dependencyMap[0], \"expo-modules-core\");\n  var _PushTokenManager = require(_dependencyMap[1], \"./PushTokenManager\");\n  var PushTokenManager = _interopDefault(_PushTokenManager);\n  var _warnOfExpoGoPushUsage = require(_dependencyMap[2], \"./warnOfExpoGoPushUsage\");\n  // Web uses SyntheticEventEmitter\n  const tokenEmitter = new _expoModulesCore.LegacyEventEmitter(PushTokenManager.default);\n  const newTokenEventName = 'onDevicePushToken';\n  /**\n   * In rare situations, a push token may be changed by the push notification service while the app is running.\n   * When a token is rolled, the old one becomes invalid and sending notifications to it will fail.\n   * A push token listener will let you handle this situation gracefully by registering the new token with your backend right away.\n   * @param listener A function accepting a push token as an argument, it will be called whenever the push token changes.\n   * @return An [`EventSubscription`](#eventsubscription) object represents the subscription of the provided listener.\n   * @header fetch\n   * @example Registering a push token listener using a React hook.\n   * ```jsx\n   * import React from 'react';\n   * import * as Notifications from 'expo-notifications';\n   *\n   * import { registerDevicePushTokenAsync } from '../api';\n   *\n   * export default function App() {\n   *   React.useEffect(() => {\n   *     const subscription = Notifications.addPushTokenListener(registerDevicePushTokenAsync);\n   *     return () => subscription.remove();\n   *   }, []);\n   *\n   *   return (\n   *     // Your app content\n   *   );\n   * }\n   * ```\n   */\n  function addPushTokenListener(listener) {\n    (0, _warnOfExpoGoPushUsage.warnOfExpoGoPushUsage)();\n    const wrappingListener = ({\n      devicePushToken\n    }) => listener({\n      data: devicePushToken,\n      type: _expoModulesCore.Platform.OS\n    });\n    return tokenEmitter.addListener(newTokenEventName, wrappingListener);\n  }\n  /**\n   * Removes a push token subscription returned by an `addPushTokenListener` call.\n   * @param subscription A subscription returned by `addPushTokenListener` method.\n   * @header fetch\n   */\n  function removePushTokenSubscription(subscription) {\n    subscription.remove();\n  }\n});","lineCount":65,"map":[[12,2,33,0,"exports"],[12,9,33,0],[12,10,33,0,"addPushTokenListener"],[12,30,33,0],[12,33,33,0,"addPushTokenListener"],[12,53,33,0],[13,2,43,0,"exports"],[13,9,43,0],[13,10,43,0,"removePushTokenSubscription"],[13,37,43,0],[13,40,43,0,"removePushTokenSubscription"],[13,67,43,0],[14,2,1,0],[14,6,1,0,"_expoModulesCore"],[14,22,1,0],[14,25,1,0,"require"],[14,32,1,0],[14,33,1,0,"_dependencyMap"],[14,47,1,0],[15,2,2,0],[15,6,2,0,"_PushTokenManager"],[15,23,2,0],[15,26,2,0,"require"],[15,33,2,0],[15,34,2,0,"_dependencyMap"],[15,48,2,0],[16,2,2,0],[16,6,2,0,"PushTokenManager"],[16,22,2,0],[16,25,2,0,"_interopDefault"],[16,40,2,0],[16,41,2,0,"_PushTokenManager"],[16,58,2,0],[17,2,3,0],[17,6,3,0,"_warnOfExpoGoPushUsage"],[17,28,3,0],[17,31,3,0,"require"],[17,38,3,0],[17,39,3,0,"_dependencyMap"],[17,53,3,0],[18,2,4,0],[19,2,5,0],[19,8,5,6,"tokenEmitter"],[19,20,5,18],[19,23,5,21],[19,27,5,25,"LegacyEventEmitter"],[19,43,5,43],[19,44,5,43,"LegacyEventEmitter"],[19,62,5,43],[19,63,5,44,"PushTokenManager"],[19,79,5,60],[19,80,5,60,"default"],[19,87,5,60],[19,88,5,61],[20,2,6,0],[20,8,6,6,"newTokenEventName"],[20,25,6,23],[20,28,6,26],[20,47,6,45],[21,2,7,0],[22,0,8,0],[23,0,9,0],[24,0,10,0],[25,0,11,0],[26,0,12,0],[27,0,13,0],[28,0,14,0],[29,0,15,0],[30,0,16,0],[31,0,17,0],[32,0,18,0],[33,0,19,0],[34,0,20,0],[35,0,21,0],[36,0,22,0],[37,0,23,0],[38,0,24,0],[39,0,25,0],[40,0,26,0],[41,0,27,0],[42,0,28,0],[43,0,29,0],[44,0,30,0],[45,0,31,0],[46,0,32,0],[47,2,33,7],[47,11,33,16,"addPushTokenListener"],[47,31,33,36,"addPushTokenListener"],[47,32,33,37,"listener"],[47,40,33,45],[47,42,33,47],[48,4,34,4],[48,8,34,4,"warnOfExpoGoPushUsage"],[48,30,34,25],[48,31,34,25,"warnOfExpoGoPushUsage"],[48,52,34,25],[48,54,34,26],[48,55,34,27],[49,4,35,4],[49,10,35,10,"wrappingListener"],[49,26,35,26],[49,29,35,29,"wrappingListener"],[49,30,35,30],[50,6,35,32,"devicePushToken"],[51,4,35,48],[51,5,35,49],[51,10,35,54,"listener"],[51,18,35,62],[51,19,35,63],[52,6,35,65,"data"],[52,10,35,69],[52,12,35,71,"devicePushToken"],[52,27,35,86],[53,6,35,88,"type"],[53,10,35,92],[53,12,35,94,"Platform"],[53,28,35,102],[53,29,35,102,"Platform"],[53,37,35,102],[53,38,35,103,"OS"],[54,4,35,106],[54,5,35,107],[54,6,35,108],[55,4,36,4],[55,11,36,11,"tokenEmitter"],[55,23,36,23],[55,24,36,24,"addListener"],[55,35,36,35],[55,36,36,36,"newTokenEventName"],[55,53,36,53],[55,55,36,55,"wrappingListener"],[55,71,36,71],[55,72,36,72],[56,2,37,0],[57,2,38,0],[58,0,39,0],[59,0,40,0],[60,0,41,0],[61,0,42,0],[62,2,43,7],[62,11,43,16,"removePushTokenSubscription"],[62,38,43,43,"removePushTokenSubscription"],[62,39,43,44,"subscription"],[62,51,43,56],[62,53,43,58],[63,4,44,4,"subscription"],[63,16,44,16],[63,17,44,17,"remove"],[63,23,44,23],[63,24,44,24],[63,25,44,25],[64,2,45,0],[65,0,45,1],[65,3]],"functionMap":{"names":["<global>","addPushTokenListener","wrappingListener","removePushTokenSubscription"],"mappings":"AAA;OCgC;6BCE,+ED;CDE;OGM;CHE"},"hasCjsExports":false},"type":"js/module"}]}