{"dependencies":[],"output":[{"data":{"code":"__d(function(g,r,i,a,m,_e,d){\"use strict\";function e(e,o){const{storageKey:t=\"base44_access_token\"}=o;if(\"undefined\"==typeof window||!window.localStorage||!e)return!1;try{return window.localStorage.setItem(t,e),window.localStorage.setItem(\"token\",e),!0}catch(e){return console.error(\"Error saving token to local storage:\",e),!1}}Object.defineProperty(_e,'__esModule',{value:!0}),_e.getAccessToken=function(o={}){const{storageKey:t=\"base44_access_token\",paramName:n=\"access_token\",saveToStorage:c=!0,removeFromUrl:s=!0}=o;let l=null;if(\"undefined\"!=typeof window&&window.location)try{const o=new URLSearchParams(window.location.search);if(l=o.get(n),l){if(c&&e(l,{storageKey:t}),s){o.delete(n);const e=`${window.location.pathname}${o.toString()?`?${o.toString()}`:\"\"}${window.location.hash}`;window.history.replaceState({},document.title,e)}return l}}catch(e){console.error(\"Error retrieving token from URL:\",e)}if(\"undefined\"!=typeof window&&window.localStorage)try{return l=window.localStorage.getItem(t),l}catch(e){console.error(\"Error retrieving token from local storage:\",e)}return null},_e.saveAccessToken=e,_e.removeAccessToken=function(e){const{storageKey:o=\"base44_access_token\"}=e;if(\"undefined\"==typeof window||!window.localStorage)return!1;try{return window.localStorage.removeItem(o),!0}catch(e){return console.error(\"Error removing token from local storage:\",e),!1}},_e.getLoginUrl=function(e,o){const{serverUrl:t,appId:n,loginPath:c=\"/login\"}=o;if(!t||!n)throw new Error(\"serverUrl and appId are required to construct login URL\");const s=encodeURIComponent(e||(\"undefined\"!=typeof window?window.location.href:\"\"));return`${t}${c}?from_url=${s}&app_id=${n}`}});","lineCount":1,"map":[[1,42,106,7],[1,51,106,16,"saveAccessToken"],[1,53,106,32,"token"],[1,55,106,39,"options"],[1,58,107,4],[1,64,107,10,"storageKey"],[1,75,107,12,"storageKey"],[1,77,107,25],[1,100,107,51,"options"],[1,102,108,4],[1,105,108,26],[1,125,108,15,"window"],[1,134,108,42,"window"],[1,141,108,49,"localStorage"],[1,156,108,66,"token"],[1,158,109,8],[1,165,109,15],[1,167,111,4],[1,171,115,8],[1,178,112,8,"window"],[1,185,112,15,"localStorage"],[1,198,112,28,"setItem"],[1,206,112,36,"storageKey"],[1,208,112,48,"token"],[1,211,114,8,"window"],[1,218,114,15,"localStorage"],[1,231,114,28,"setItem"],[1,239,114,36],[1,247,114,45,"token"],[1,251,115,15],[1,252,116,4],[1,253,117,4],[1,259,117,11,"e"],[1,262,119,8],[1,269,118,8,"console"],[1,277,118,16,"error"],[1,283,118,22],[1,322,118,62,"e"],[1,326,119,15],[1,327,120,4],[1,328,121,0],[1,329],[1,379,37,0,"_e"],[1,382,37,0,"getAccessToken"],[1,397,37,7],[1,406,37,31,"options"],[1,408,37,41],[1,409,37,42],[1,412,38,4],[1,418,38,10,"storageKey"],[1,429,38,12,"storageKey"],[1,431,38,25],[1,453,38,46,"paramName"],[1,463,38,48,"paramName"],[1,465,38,60],[1,480,38,74,"saveToStorage"],[1,494,38,76,"saveToStorage"],[1,497,38,92],[1,499,38,96,"removeFromUrl"],[1,513,38,98,"removeFromUrl"],[1,516,38,114],[1,519,38,124,"options"],[1,521,39,4],[1,525,39,8,"token"],[1,527,39,16],[1,532,41,4],[1,535,41,26],[1,555,41,15,"window"],[1,563,41,41,"window"],[1,570,41,48,"location"],[1,579,42,8],[1,583,43,12],[1,589,43,18,"urlParams"],[1,591,43,30],[1,595,43,34,"URLSearchParams"],[1,611,43,50,"window"],[1,618,43,57,"location"],[1,627,43,66,"search"],[1,635,46,12],[1,638,44,12,"token"],[1,640,44,20,"urlParams"],[1,642,44,30,"get"],[1,646,44,34,"paramName"],[1,649,46,16,"token"],[1,651,46,23],[1,652,52,16],[1,655,48,20,"saveToStorage"],[1,658,49,20,"saveAccessToken"],[1,660,49,36,"token"],[1,662,49,43],[1,663,49,45,"storageKey"],[1,678,52,20,"removeFromUrl"],[1,680,52,35],[1,681,53,20,"urlParams"],[1,683,53,30,"delete"],[1,690,53,37,"paramName"],[1,693,54,20],[1,699,54,26,"newUrl"],[1,701,54,35],[1,704,54,38,"window"],[1,711,54,45,"location"],[1,720,54,54,"pathname"],[1,731,54,65,"urlParams"],[1,733,54,75,"toString"],[1,744,54,88],[1,748,54,92,"urlParams"],[1,750,54,102,"toString"],[1,763,54,117],[1,768,54,122,"window"],[1,775,54,129,"location"],[1,784,54,138,"hash"],[1,791,55,20,"window"],[1,798,55,27,"history"],[1,806,55,35,"replaceState"],[1,819,55,48],[1,820,55,49],[1,822,55,52,"document"],[1,831,55,61,"title"],[1,837,55,68,"newUrl"],[1,839,56,16],[1,840,57,16],[1,847,57,23,"token"],[1,848,58,12],[1,849,59,8],[1,850,60,8],[1,856,60,15,"e"],[1,859,61,12,"console"],[1,867,61,20,"error"],[1,873,61,26],[1,908,61,62,"e"],[1,910,62,8],[1,911,65,4],[1,914,65,26],[1,934,65,15,"window"],[1,942,65,41,"window"],[1,949,65,48,"localStorage"],[1,962,66,8],[1,966,68,12],[1,973,67,12,"token"],[1,975,67,20,"window"],[1,982,67,27,"localStorage"],[1,995,67,40,"getItem"],[1,1003,67,48,"storageKey"],[1,1006,68,19,"token"],[1,1007,69,8],[1,1008,70,8],[1,1014,70,15,"e"],[1,1017,71,12,"console"],[1,1025,71,20,"error"],[1,1031,71,26],[1,1076,71,72,"e"],[1,1078,72,8],[1,1079,74,4],[1,1086,74,11],[1,1090,75,0],[1,1092,106,0,"_e"],[1,1095,106,0,"saveAccessToken"],[1,1113,146,0,"_e"],[1,1116,146,0,"removeAccessToken"],[1,1134,146,7],[1,1143,146,34,"options"],[1,1146,147,4],[1,1152,147,10,"storageKey"],[1,1163,147,12,"storageKey"],[1,1165,147,25],[1,1188,147,51,"options"],[1,1190,148,4],[1,1193,148,26],[1,1213,148,15,"window"],[1,1222,148,42,"window"],[1,1229,148,49,"localStorage"],[1,1242,149,8],[1,1249,149,15],[1,1251,151,4],[1,1255,153,8],[1,1262,152,8,"window"],[1,1269,152,15,"localStorage"],[1,1282,152,28,"removeItem"],[1,1293,152,39,"storageKey"],[1,1297,153,15],[1,1298,154,4],[1,1299,155,4],[1,1305,155,11,"e"],[1,1308,157,8],[1,1315,156,8,"console"],[1,1323,156,16,"error"],[1,1329,156,22],[1,1372,156,66,"e"],[1,1376,157,15],[1,1377,158,4],[1,1378,159,0],[1,1380,182,0,"_e"],[1,1383,182,0,"getLoginUrl"],[1,1395,182,7],[1,1404,182,28,"nextUrl"],[1,1406,182,37,"options"],[1,1409,183,4],[1,1415,183,10,"serverUrl"],[1,1425,183,12,"serverUrl"],[1,1427,183,21,"appId"],[1,1433,183,23,"appId"],[1,1435,183,28,"loginPath"],[1,1445,183,30,"loginPath"],[1,1447,183,42],[1,1457,183,55,"options"],[1,1459,184,4],[1,1463,184,9,"serverUrl"],[1,1467,184,23,"appId"],[1,1469,185,8],[1,1475,185,14],[1,1479,185,18,"Error"],[1,1485,185,24],[1,1544,187,4],[1,1550,187,10,"encodedRedirectUrl"],[1,1552,187,31,"encodeURIComponent"],[1,1571,187,50,"nextUrl"],[1,1575,187,80],[1,1595,187,69,"window"],[1,1602,187,94,"window"],[1,1609,187,101,"location"],[1,1618,187,110,"href"],[1,1623,187,117],[1,1628,188,4],[1,1634,188,11],[1,1637,188,14,"serverUrl"],[1,1641,188,26,"loginPath"],[1,1655,188,48,"encodedRedirectUrl"],[1,1667,188,77,"appId"],[1,1670,189,0],[1,1671,189,1],[1,1674]],"functionMap":{"names":["<global>","getAccessToken","saveAccessToken","removeAccessToken","getLoginUrl"],"mappings":"AAA;OCoC;CDsC;OE+B;CFe;OGyB;CHa;OIuB;CJO"},"hasCjsExports":false},"type":"js/module"}]}