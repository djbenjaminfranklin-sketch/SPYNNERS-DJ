{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":78,"index":78}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":79},"end":{"line":2,"column":69,"index":148}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"../services/base44Api","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":149},"end":{"line":3,"column":57,"index":206}}],"key":"RsPhvxCr5uArxZjYXlgxcThRvjE=","exportNames":["*"],"imports":1}},{"name":"react/jsx-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"3suYSPX9nHbHZ1xNTsKXtKj0atE=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function(g,r,i,a,m,_e,d){\"use strict\";Object.defineProperty(_e,'__esModule',{value:!0}),_e.AuthProvider=function({children:t}){const[o,c]=(0,e.useState)(null),[h,A]=(0,e.useState)(null),[f,x]=(0,e.useState)(!0);(0,e.useEffect)(()=>{C()},[]);const C=async()=>{try{console.log('[AuthContext] Loading stored auth...');const t=await n.default.getItem('auth_token'),e=await n.default.getItem('user');if(t&&e){console.log('[AuthContext] Found stored auth, restoring session'),A(t),c(JSON.parse(e));try{const t=await s.base44Auth.me();t&&(console.log('[AuthContext] Token verified, user:',t.email),c(t),await n.default.setItem('user',JSON.stringify(t)))}catch(t){console.log('[AuthContext] Token verification skipped/failed')}}else console.log('[AuthContext] No stored auth found')}catch(t){console.error('[AuthContext] Error loading auth:',t)}finally{x(!1)}};return(0,u.jsx)(l.Provider,{value:{user:o,token:h,loading:f,login:async(t,e)=>{try{console.log('[AuthContext] Attempting login for:',t);const o=await s.base44Auth.login(t,e);console.log('[AuthContext] Login successful'),A(o.token),c(o.user)}catch(t){throw console.error('[AuthContext] Login error:',t?.message||t),t}},signup:async(t,e,o,n)=>{try{console.log('[AuthContext] Attempting signup for:',t);const u=await s.base44Auth.signup(t,e,o,n);console.log('[AuthContext] Signup successful'),A(u.token),c({...u.user,user_type:n})}catch(t){throw console.error('[AuthContext] Signup error:',t?.message||t),t}},logout:async()=>{try{console.log('[AuthContext] Logging out...'),await s.base44Auth.logout(),A(null),c(null),console.log('[AuthContext] Logged out successfully')}catch(t){console.error('[AuthContext] Logout error:',t)}}},children:t})},_e.useAuth=function(){const t=(0,e.useContext)(l);if(void 0===t)throw new Error('useAuth must be used within an AuthProvider');return t};var t,e=r(d[0]),o=r(d[1]),n=(t=o)&&t.__esModule?t:{default:t},s=r(d[2]),u=r(d[3]);const l=(0,e.createContext)(void 0)});","lineCount":1,"map":[[1,92,16,0,"_e"],[1,95,16,0,"AuthProvider"],[1,108,16,7],[1,118,16,29,"children"],[1,127,16,31,"children"],[1,131,17,2],[1,137,17,9,"user"],[1,139,17,15,"setUser"],[1,143,17,26],[1,145,17,26,"useState"],[1,147,17,34,"useState"],[1,157,17,48],[1,164,18,9,"token"],[1,166,18,16,"setToken"],[1,170,18,28],[1,172,18,28,"useState"],[1,174,18,36,"useState"],[1,184,18,52],[1,191,19,9,"loading"],[1,193,19,18,"setLoading"],[1,197,19,32],[1,199,19,32,"useState"],[1,201,19,40,"useState"],[1,212,19,41],[1,216,21,2],[1,218,21,2,"useEffect"],[1,220,21,11,"useEffect"],[1,231,21,12],[1,236,22,4,"loadStoredAuth"],[1,241,23,5],[1,245,25,2],[1,251,25,8,"loadStoredAuth"],[1,253,25,25,"async"],[1,263,26,4],[1,267,27,6,"console"],[1,275,27,14,"log"],[1,279,27,18],[1,319,28,6],[1,325,28,12,"storedToken"],[1,333,28,32,"AsyncStorage"],[1,335,28,44,"default"],[1,343,28,45,"getItem"],[1,351,28,53],[1,365,29,12,"storedUser"],[1,373,29,31,"AsyncStorage"],[1,375,29,43,"default"],[1,383,29,44,"getItem"],[1,391,29,52],[1,399,31,6],[1,402,31,10,"storedToken"],[1,405,31,25,"storedUser"],[1,407,31,37],[1,408,32,8,"console"],[1,416,32,16,"log"],[1,420,32,20],[1,474,33,8,"setToken"],[1,476,33,17,"storedToken"],[1,479,34,8,"setUser"],[1,481,34,16,"JSON"],[1,486,34,21,"parse"],[1,492,34,27,"storedUser"],[1,496,37,8],[1,500,38,10],[1,506,38,16,"currentUser"],[1,514,38,36,"base44Auth"],[1,516,38,46,"base44Auth"],[1,527,38,47,"me"],[1,532,39,14,"currentUser"],[1,536,40,12,"console"],[1,544,40,20,"log"],[1,548,40,24],[1,586,40,63,"currentUser"],[1,588,40,75,"email"],[1,595,41,12,"setUser"],[1,597,41,20,"currentUser"],[1,606,42,18,"AsyncStorage"],[1,608,42,30,"default"],[1,616,42,31,"setItem"],[1,624,42,39],[1,631,42,47,"JSON"],[1,636,42,52,"stringify"],[1,646,42,62,"currentUser"],[1,650,44,8],[1,651,44,10],[1,657,44,17,"verifyError"],[1,660,45,10,"console"],[1,668,45,18,"log"],[1,672,45,22],[1,722,46,8],[1,723,47,6],[1,729,48,8,"console"],[1,737,48,16,"log"],[1,741,48,20],[1,778,50,4],[1,779,50,6],[1,785,50,13,"error"],[1,788,51,6,"console"],[1,796,51,14,"error"],[1,802,51,20],[1,838,51,57,"error"],[1,840,52,4],[1,841,52,5],[1,849,53,6,"setLoading"],[1,852,53,17],[1,854,54,4],[1,857,104,2],[1,864,105,4],[1,866,105,4,"_reactJsxRuntime"],[1,868,105,4,"jsx"],[1,873,105,5,"AuthContext"],[1,875,105,17,"Provider"],[1,884,105,25],[1,885,105,26,"value"],[1,891,105,33],[1,892,105,35,"user"],[1,899,105,41,"token"],[1,907,105,48,"loading"],[1,917,105,57,"login"],[1,923,57,16,"async"],[1,929,57,23,"email"],[1,931,57,38,"password"],[1,936,58,4],[1,940,59,6,"console"],[1,948,59,14,"log"],[1,952,59,18],[1,990,59,57,"email"],[1,993,61,6],[1,999,61,12,"result"],[1,1007,61,27,"base44Auth"],[1,1009,61,37,"base44Auth"],[1,1020,61,38,"login"],[1,1026,61,44,"email"],[1,1028,61,51,"password"],[1,1031,63,6,"console"],[1,1039,63,14,"log"],[1,1043,63,18],[1,1077,65,6,"setToken"],[1,1079,65,15,"result"],[1,1081,65,22,"token"],[1,1088,66,6,"setUser"],[1,1090,66,14,"result"],[1,1092,66,21,"user"],[1,1097,67,4],[1,1098,67,6],[1,1104,67,13,"error"],[1,1107,69,6],[1,1113,68,6,"console"],[1,1121,68,14,"error"],[1,1127,68,20],[1,1156,68,50,"error"],[1,1159,68,57,"message"],[1,1168,68,68,"error"],[1,1171,69,12,"error"],[1,1172,70,4],[1,1175,105,64,"signup"],[1,1182,73,17,"async"],[1,1188,73,24,"email"],[1,1190,73,39,"password"],[1,1192,73,57,"fullName"],[1,1194,73,75,"userType"],[1,1199,74,4],[1,1203,75,6,"console"],[1,1211,75,14,"log"],[1,1215,75,18],[1,1254,75,58,"email"],[1,1257,77,6],[1,1263,77,12,"result"],[1,1271,77,27,"base44Auth"],[1,1273,77,37,"base44Auth"],[1,1284,77,38,"signup"],[1,1291,77,45,"email"],[1,1293,77,52,"password"],[1,1295,77,62,"fullName"],[1,1297,77,72,"userType"],[1,1300,79,6,"console"],[1,1308,79,14,"log"],[1,1312,79,18],[1,1347,81,6,"setToken"],[1,1349,81,15,"result"],[1,1351,81,22,"token"],[1,1358,82,6,"setUser"],[1,1360,82,14],[1,1364,82,19,"result"],[1,1366,82,26,"user"],[1,1371,82,32,"user_type"],[1,1381,82,43,"userType"],[1,1384,83,4],[1,1385,83,6],[1,1391,83,13,"error"],[1,1394,85,6],[1,1400,84,6,"console"],[1,1408,84,14,"error"],[1,1414,84,20],[1,1444,84,51,"error"],[1,1447,84,58,"message"],[1,1456,84,69,"error"],[1,1459,85,12,"error"],[1,1460,86,4],[1,1463,105,72,"logout"],[1,1470,89,17,"async"],[1,1480,90,4],[1,1484,91,6,"console"],[1,1492,91,14,"log"],[1,1496,91,18],[1,1534,93,12,"base44Auth"],[1,1536,93,22,"base44Auth"],[1,1547,93,23,"logout"],[1,1556,95,6,"setToken"],[1,1558,95,15],[1,1564,96,6,"setUser"],[1,1566,96,14],[1,1572,98,6,"console"],[1,1580,98,14,"log"],[1,1584,98,18],[1,1624,99,4],[1,1625,99,6],[1,1631,99,13,"error"],[1,1634,100,6,"console"],[1,1642,100,14,"error"],[1,1648,100,20],[1,1678,100,51,"error"],[1,1680,101,4],[1,1684,105,81,"children"],[1,1693,106,7,"children"],[1,1696,109,0],[1,1698,111,0,"_e"],[1,1701,111,0,"useAuth"],[1,1709,111,7],[1,1720,112,2],[1,1726,112,8,"context"],[1,1729,112,18],[1,1731,112,18,"useContext"],[1,1733,112,28,"useContext"],[1,1745,112,29,"AuthContext"],[1,1748,113,2],[1,1756,113,18,"undefined"],[1,1760,113,6,"context"],[1,1762,114,4],[1,1768,114,10],[1,1772,114,14,"Error"],[1,1778,114,20],[1,1825,116,2],[1,1832,116,9,"context"],[1,1833,117,0],[1,1835,1,0],[1,1839],[1,1841,1,0,"_react"],[1,1843,1,0,"r"],[1,1845,1,0,"d"],[1,1847,1,0],[1,1851,2,0,"_reactNativeAsyncStorageAsyncStorage"],[1,1853,2,0,"r"],[1,1855,2,0,"d"],[1,1857,2,0],[1,1861,2,0,"AsyncStorage"],[1,1864],[1,1866,2,0,"_reactNativeAsyncStorageAsyncStorage"],[1,1870],[1,1897,3,0,"_servicesBase44Api"],[1,1899,3,0,"r"],[1,1901,3,0,"d"],[1,1903,3,0],[1,1907,3,57,"_reactJsxRuntime"],[1,1909,3,57,"r"],[1,1911,3,57,"d"],[1,1913,3,57],[1,1917,14,0],[1,1923,14,6,"AuthContext"],[1,1926,14,20],[1,1928,14,20,"createContext"],[1,1930,14,33,"createContext"],[1,1950,14,63,"undefined"],[1,1952,117,1],[1,1955]],"functionMap":{"names":["<global>","AuthProvider","useEffect$argument_0","loadStoredAuth","login","signup","logout","useAuth"],"mappings":"AAA;OCe;YCK;GDE;yBEE;GF8B;gBGE;GHc;iBIE;GJc;iBKE;GLa;CDO;OOE;CPM"},"hasCjsExports":false},"type":"js/module"}]}