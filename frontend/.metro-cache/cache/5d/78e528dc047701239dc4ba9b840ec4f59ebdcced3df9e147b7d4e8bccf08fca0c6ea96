{"dependencies":[{"name":"../../handlersRegistry","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":57,"index":57}}],"key":"Q8MtNj8/mrt1iN8Kay94o881ERE=","exportNames":["*"],"imports":1}},{"name":"../../../RNGestureHandlerModule","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":58},"end":{"line":2,"column":69,"index":127}}],"key":"2BYIjnTRSFId8SRJ7sJFxLD1BD4=","exportNames":["*"],"imports":1}},{"name":"../../utils","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":128},"end":{"line":3,"column":68,"index":196}}],"key":"ByXat9lt9duIJLDmSeH0V+tRq1s=","exportNames":["*"],"imports":1}},{"name":"../../../ActionType","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":197},"end":{"line":4,"column":49,"index":246}}],"key":"HJ6ReZDVLtCQDFQShsuSOLiCtL0=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/Platform","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dV3bI3NOD8bfMzaIniMaFGy/nn8=","exportNames":["*"],"imports":1}},{"name":"../../../ghQueueMicrotask","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":6,"column":0,"index":288},"end":{"line":6,"column":61,"index":349}}],"key":"6QYiO8x9sAoDBctSRJ19A8sqUNk=","exportNames":["*"],"imports":1}},{"name":"./utils","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":7,"column":0,"index":350},"end":{"line":7,"column":99,"index":449}}],"key":"fIqjJ6Rx8c7Khc/wm9kX7hQXC5I=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  exports.attachHandlers = attachHandlers;\n  var _handlersRegistry = require(_dependencyMap[0], \"../../handlersRegistry\");\n  var _RNGestureHandlerModule = require(_dependencyMap[1], \"../../../RNGestureHandlerModule\");\n  var RNGestureHandlerModule = _interopDefault(_RNGestureHandlerModule);\n  var _utils = require(_dependencyMap[2], \"../../utils\");\n  var _ActionType = require(_dependencyMap[3], \"../../../ActionType\");\n  var _reactNativeWebDistExportsPlatform = require(_dependencyMap[4], \"react-native-web/dist/exports/Platform\");\n  var Platform = _interopDefault(_reactNativeWebDistExportsPlatform);\n  var _ghQueueMicrotask = require(_dependencyMap[5], \"../../../ghQueueMicrotask\");\n  var _utils2 = require(_dependencyMap[6], \"./utils\");\n  function attachHandlers({\n    preparedGesture,\n    gestureConfig,\n    gesturesToAttach,\n    viewTag,\n    webEventHandlersRef\n  }) {\n    gestureConfig.initialize(); // Use queueMicrotask to extract handlerTags, because all refs should be initialized\n    // when it's ran\n\n    (0, _ghQueueMicrotask.ghQueueMicrotask)(() => {\n      if (!preparedGesture.isMounted) {\n        return;\n      }\n      gestureConfig.prepare();\n    });\n    for (const handler of gesturesToAttach) {\n      (0, _utils2.checkGestureCallbacksForWorklets)(handler);\n      RNGestureHandlerModule.default.createGestureHandler(handler.handlerName, handler.handlerTag, (0, _utils.filterConfig)(handler.config, _utils2.ALLOWED_PROPS));\n      (0, _handlersRegistry.registerHandler)(handler.handlerTag, handler, handler.config.testId);\n    } // Use queueMicrotask to extract handlerTags, because all refs should be initialized\n    // when it's ran\n\n    (0, _ghQueueMicrotask.ghQueueMicrotask)(() => {\n      if (!preparedGesture.isMounted) {\n        return;\n      }\n      for (const handler of gesturesToAttach) {\n        RNGestureHandlerModule.default.updateGestureHandler(handler.handlerTag, (0, _utils.filterConfig)(handler.config, _utils2.ALLOWED_PROPS, (0, _utils2.extractGestureRelations)(handler)));\n      }\n      (0, _utils.scheduleFlushOperations)();\n    });\n    for (const gesture of gesturesToAttach) {\n      const actionType = gesture.shouldUseReanimated ? _ActionType.ActionType.REANIMATED_WORKLET : _ActionType.ActionType.JS_FUNCTION_NEW_API;\n      if (Platform.default.OS === 'web') {\n        RNGestureHandlerModule.default.attachGestureHandler(gesture.handlerTag, viewTag, _ActionType.ActionType.JS_FUNCTION_OLD_API,\n        // Ignored on web\n        webEventHandlersRef);\n      } else {\n        RNGestureHandlerModule.default.attachGestureHandler(gesture.handlerTag, viewTag, actionType);\n      }\n    }\n    preparedGesture.attachedGestures = gesturesToAttach;\n    if (preparedGesture.animatedHandlers) {\n      const isAnimatedGesture = g => g.shouldUseReanimated;\n      preparedGesture.animatedHandlers.value = gesturesToAttach.filter(isAnimatedGesture).map(g => g.handlers);\n    }\n  }\n});","lineCount":70,"map":[[12,2,8,0,"exports"],[12,9,8,0],[12,10,8,0,"attachHandlers"],[12,24,8,0],[12,27,8,0,"attachHandlers"],[12,41,8,0],[13,2,1,0],[13,6,1,0,"_handlersRegistry"],[13,23,1,0],[13,26,1,0,"require"],[13,33,1,0],[13,34,1,0,"_dependencyMap"],[13,48,1,0],[14,2,2,0],[14,6,2,0,"_RNGestureHandlerModule"],[14,29,2,0],[14,32,2,0,"require"],[14,39,2,0],[14,40,2,0,"_dependencyMap"],[14,54,2,0],[15,2,2,0],[15,6,2,0,"RNGestureHandlerModule"],[15,28,2,0],[15,31,2,0,"_interopDefault"],[15,46,2,0],[15,47,2,0,"_RNGestureHandlerModule"],[15,70,2,0],[16,2,3,0],[16,6,3,0,"_utils"],[16,12,3,0],[16,15,3,0,"require"],[16,22,3,0],[16,23,3,0,"_dependencyMap"],[16,37,3,0],[17,2,4,0],[17,6,4,0,"_ActionType"],[17,17,4,0],[17,20,4,0,"require"],[17,27,4,0],[17,28,4,0,"_dependencyMap"],[17,42,4,0],[18,2,4,49],[18,6,4,49,"_reactNativeWebDistExportsPlatform"],[18,40,4,49],[18,43,4,49,"require"],[18,50,4,49],[18,51,4,49,"_dependencyMap"],[18,65,4,49],[19,2,4,49],[19,6,4,49,"Platform"],[19,14,4,49],[19,17,4,49,"_interopDefault"],[19,32,4,49],[19,33,4,49,"_reactNativeWebDistExportsPlatform"],[19,67,4,49],[20,2,6,0],[20,6,6,0,"_ghQueueMicrotask"],[20,23,6,0],[20,26,6,0,"require"],[20,33,6,0],[20,34,6,0,"_dependencyMap"],[20,48,6,0],[21,2,7,0],[21,6,7,0,"_utils2"],[21,13,7,0],[21,16,7,0,"require"],[21,23,7,0],[21,24,7,0,"_dependencyMap"],[21,38,7,0],[22,2,8,7],[22,11,8,16,"attachHandlers"],[22,25,8,30,"attachHandlers"],[22,26,8,31],[23,4,9,2,"preparedGesture"],[23,19,9,17],[24,4,10,2,"gestureConfig"],[24,17,10,15],[25,4,11,2,"gesturesToAttach"],[25,20,11,18],[26,4,12,2,"viewTag"],[26,11,12,9],[27,4,13,2,"webEventHandlersRef"],[28,2,14,0],[28,3,14,1],[28,5,14,3],[29,4,15,2,"gestureConfig"],[29,17,15,15],[29,18,15,16,"initialize"],[29,28,15,26],[29,29,15,27],[29,30,15,28],[29,31,15,29],[29,32,15,30],[30,4,16,2],[32,4,18,2],[32,8,18,2,"ghQueueMicrotask"],[32,25,18,18],[32,26,18,18,"ghQueueMicrotask"],[32,42,18,18],[32,44,18,19],[32,50,18,25],[33,6,19,4],[33,10,19,8],[33,11,19,9,"preparedGesture"],[33,26,19,24],[33,27,19,25,"isMounted"],[33,36,19,34],[33,38,19,36],[34,8,20,6],[35,6,21,4],[36,6,23,4,"gestureConfig"],[36,19,23,17],[36,20,23,18,"prepare"],[36,27,23,25],[36,28,23,26],[36,29,23,27],[37,4,24,2],[37,5,24,3],[37,6,24,4],[38,4,26,2],[38,9,26,7],[38,15,26,13,"handler"],[38,22,26,20],[38,26,26,24,"gesturesToAttach"],[38,42,26,40],[38,44,26,42],[39,6,27,4],[39,10,27,4,"checkGestureCallbacksForWorklets"],[39,17,27,36],[39,18,27,36,"checkGestureCallbacksForWorklets"],[39,50,27,36],[39,52,27,37,"handler"],[39,59,27,44],[39,60,27,45],[40,6,28,4,"RNGestureHandlerModule"],[40,28,28,26],[40,29,28,26,"default"],[40,36,28,26],[40,37,28,27,"createGestureHandler"],[40,57,28,47],[40,58,28,48,"handler"],[40,65,28,55],[40,66,28,56,"handlerName"],[40,77,28,67],[40,79,28,69,"handler"],[40,86,28,76],[40,87,28,77,"handlerTag"],[40,97,28,87],[40,99,28,89],[40,103,28,89,"filterConfig"],[40,109,28,101],[40,110,28,101,"filterConfig"],[40,122,28,101],[40,124,28,102,"handler"],[40,131,28,109],[40,132,28,110,"config"],[40,138,28,116],[40,140,28,118,"ALLOWED_PROPS"],[40,147,28,131],[40,148,28,131,"ALLOWED_PROPS"],[40,161,28,131],[40,162,28,132],[40,163,28,133],[41,6,29,4],[41,10,29,4,"registerHandler"],[41,27,29,19],[41,28,29,19,"registerHandler"],[41,43,29,19],[41,45,29,20,"handler"],[41,52,29,27],[41,53,29,28,"handlerTag"],[41,63,29,38],[41,65,29,40,"handler"],[41,72,29,47],[41,74,29,49,"handler"],[41,81,29,56],[41,82,29,57,"config"],[41,88,29,63],[41,89,29,64,"testId"],[41,95,29,70],[41,96,29,71],[42,4,30,2],[42,5,30,3],[42,6,30,4],[43,4,31,2],[45,4,34,2],[45,8,34,2,"ghQueueMicrotask"],[45,25,34,18],[45,26,34,18,"ghQueueMicrotask"],[45,42,34,18],[45,44,34,19],[45,50,34,25],[46,6,35,4],[46,10,35,8],[46,11,35,9,"preparedGesture"],[46,26,35,24],[46,27,35,25,"isMounted"],[46,36,35,34],[46,38,35,36],[47,8,36,6],[48,6,37,4],[49,6,39,4],[49,11,39,9],[49,17,39,15,"handler"],[49,24,39,22],[49,28,39,26,"gesturesToAttach"],[49,44,39,42],[49,46,39,44],[50,8,40,6,"RNGestureHandlerModule"],[50,30,40,28],[50,31,40,28,"default"],[50,38,40,28],[50,39,40,29,"updateGestureHandler"],[50,59,40,49],[50,60,40,50,"handler"],[50,67,40,57],[50,68,40,58,"handlerTag"],[50,78,40,68],[50,80,40,70],[50,84,40,70,"filterConfig"],[50,90,40,82],[50,91,40,82,"filterConfig"],[50,103,40,82],[50,105,40,83,"handler"],[50,112,40,90],[50,113,40,91,"config"],[50,119,40,97],[50,121,40,99,"ALLOWED_PROPS"],[50,128,40,112],[50,129,40,112,"ALLOWED_PROPS"],[50,142,40,112],[50,144,40,114],[50,148,40,114,"extractGestureRelations"],[50,155,40,137],[50,156,40,137,"extractGestureRelations"],[50,179,40,137],[50,181,40,138,"handler"],[50,188,40,145],[50,189,40,146],[50,190,40,147],[50,191,40,148],[51,6,41,4],[52,6,43,4],[52,10,43,4,"scheduleFlushOperations"],[52,16,43,27],[52,17,43,27,"scheduleFlushOperations"],[52,40,43,27],[52,42,43,28],[52,43,43,29],[53,4,44,2],[53,5,44,3],[53,6,44,4],[54,4,46,2],[54,9,46,7],[54,15,46,13,"gesture"],[54,22,46,20],[54,26,46,24,"gesturesToAttach"],[54,42,46,40],[54,44,46,42],[55,6,47,4],[55,12,47,10,"actionType"],[55,22,47,20],[55,25,47,23,"gesture"],[55,32,47,30],[55,33,47,31,"shouldUseReanimated"],[55,52,47,50],[55,55,47,53,"ActionType"],[55,66,47,63],[55,67,47,63,"ActionType"],[55,77,47,63],[55,78,47,64,"REANIMATED_WORKLET"],[55,96,47,82],[55,99,47,85,"ActionType"],[55,110,47,95],[55,111,47,95,"ActionType"],[55,121,47,95],[55,122,47,96,"JS_FUNCTION_NEW_API"],[55,141,47,115],[56,6,49,4],[56,10,49,8,"Platform"],[56,18,49,16],[56,19,49,16,"default"],[56,26,49,16],[56,27,49,17,"OS"],[56,29,49,19],[56,34,49,24],[56,39,49,29],[56,41,49,31],[57,8,50,6,"RNGestureHandlerModule"],[57,30,50,28],[57,31,50,28,"default"],[57,38,50,28],[57,39,50,29,"attachGestureHandler"],[57,59,50,49],[57,60,50,50,"gesture"],[57,67,50,57],[57,68,50,58,"handlerTag"],[57,78,50,68],[57,80,50,70,"viewTag"],[57,87,50,77],[57,89,50,79,"ActionType"],[57,100,50,89],[57,101,50,89,"ActionType"],[57,111,50,89],[57,112,50,90,"JS_FUNCTION_OLD_API"],[57,131,50,109],[58,8,50,111],[59,8,51,6,"webEventHandlersRef"],[59,27,51,25],[59,28,51,26],[60,6,52,4],[60,7,52,5],[60,13,52,11],[61,8,53,6,"RNGestureHandlerModule"],[61,30,53,28],[61,31,53,28,"default"],[61,38,53,28],[61,39,53,29,"attachGestureHandler"],[61,59,53,49],[61,60,53,50,"gesture"],[61,67,53,57],[61,68,53,58,"handlerTag"],[61,78,53,68],[61,80,53,70,"viewTag"],[61,87,53,77],[61,89,53,79,"actionType"],[61,99,53,89],[61,100,53,90],[62,6,54,4],[63,4,55,2],[64,4,57,2,"preparedGesture"],[64,19,57,17],[64,20,57,18,"attachedGestures"],[64,36,57,34],[64,39,57,37,"gesturesToAttach"],[64,55,57,53],[65,4,59,2],[65,8,59,6,"preparedGesture"],[65,23,59,21],[65,24,59,22,"animatedHandlers"],[65,40,59,38],[65,42,59,40],[66,6,60,4],[66,12,60,10,"isAnimatedGesture"],[66,29,60,27],[66,32,60,30,"g"],[66,33,60,31],[66,37,60,35,"g"],[66,38,60,36],[66,39,60,37,"shouldUseReanimated"],[66,58,60,56],[67,6,62,4,"preparedGesture"],[67,21,62,19],[67,22,62,20,"animatedHandlers"],[67,38,62,36],[67,39,62,37,"value"],[67,44,62,42],[67,47,62,45,"gesturesToAttach"],[67,63,62,61],[67,64,62,62,"filter"],[67,70,62,68],[67,71,62,69,"isAnimatedGesture"],[67,88,62,86],[67,89,62,87],[67,90,62,88,"map"],[67,93,62,91],[67,94,62,92,"g"],[67,95,62,93],[67,99,62,97,"g"],[67,100,62,98],[67,101,62,99,"handlers"],[67,109,62,107],[67,110,62,108],[68,4,63,2],[69,2,64,0],[70,0,64,1],[70,3]],"functionMap":{"names":["<global>","attachHandlers","ghQueueMicrotask$argument_0","isAnimatedGesture","gesturesToAttach.filter.map$argument_0"],"mappings":"AAA;OCO;mBCU;GDM;mBCU;GDU;8BEgB,0BF;4FGE,eH;CDE"},"hasCjsExports":false},"type":"js/module"}]}